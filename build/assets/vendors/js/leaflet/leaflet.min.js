!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(b.L={})}(this,function(cy){function cO(b){var a,c,f,d;for(c=1,f=arguments.length;c<f;c++){d=arguments[c];for(a in d){b[a]=d[a]}}return b}function cU(b,a){var c=Array.prototype.slice;if(b.bind){return b.bind.apply(b,c.call(arguments,1))}var d=c.call(arguments,2);return function(){return b.apply(a,d.length?d.concat(c.call(arguments)):arguments)}}function cG(a){return a._leaflet_id=a._leaflet_id||++bY,a._leaflet_id}function cF(b,a,f){var h,g,c,d;return d=function(){h=!1,g&&(c.apply(f,g),g=!1)},c=function(){h?g=arguments:(b.apply(f,arguments),setTimeout(d,a),h=!0)}}function cA(b,a,d){var g=a[1],f=a[0],c=g-f;return b===g&&d?b:((b-f)%c+c)%c+f}function cB(){return !1}function c1(b,a){var c=Math.pow(10,void 0===a?6:a);return Math.round(b*c)/c}function cQ(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function cx(a){return cQ(a).split(/\s+/)}function cK(b,a){b.hasOwnProperty("options")||(b.options=b.options?aS(b.options):{});for(var c in a){b.options[c]=a[c]}return b.options}function cX(b,a,c){var f=[];for(var d in b){f.push(encodeURIComponent(c?d.toUpperCase():d)+"="+encodeURIComponent(b[d]))}return(a&&-1!==a.indexOf("?")?"&":"?")+f.join("&")}function c3(b,a){return b.replace(dJ,function(c,d){var f=a[d];if(void 0===f){throw new Error("No value provided for variable "+c)}return"function"==typeof f&&(f=f(a)),f})}function cW(b,a){for(var c=0;c<b.length;c++){if(b[c]===a){return c}}return -1}function cD(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}function cJ(b){var a=+new Date,c=Math.max(0,16-(a-bQ));return bQ=a+c,window.setTimeout(b,c)}function cS(b,a,c){if(!c||dY!==cJ){return dY.call(window,cU(b,a))}b.call(a)}function cR(a){a&&a8.call(window,a)}function cv(){}function cq(b){if("undefined"!=typeof L&&L&&L.Mixin){b=cY(b)?b:[b];for(var a=0;a<b.length;a++){b[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}}function cs(b,a,c){this.x=c?Math.round(b):b,this.y=c?Math.round(a):a}function cu(b,a,c){return b instanceof cs?b:cY(b)?new cs(b[0],b[1]):void 0===b||null===b?b:"object"==typeof b&&"x" in b&&"y" in b?new cs(b.x,b.y):new cs(b,a,c)}function dm(b,a){if(b){for(var c=a?[b,a]:b,f=0,d=c.length;f<d;f++){this.extend(c[f])}}}function cZ(b,a){return !b||b instanceof dm?b:new dm(b,a)}function df(b,a){if(b){for(var c=a?[b,a]:b,f=0,d=c.length;f<d;f++){this.extend(c[f])}}}function co(b,a){return b instanceof df?b:new df(b,a)}function du(b,a,c){if(isNaN(b)||isNaN(a)){throw new Error("Invalid LatLng object: ("+b+", "+a+")")}this.lat=+b,this.lng=+a,void 0!==c&&(this.alt=+c)}function dL(b,a,c){return b instanceof du?b:cY(b)&&"object"!=typeof b[0]?3===b.length?new du(b[0],b[1],b[2]):2===b.length?new du(b[0],b[1]):null:void 0===b||null===b?b:"object"==typeof b&&"lat" in b?new du(b.lat,"lng" in b?b.lng:b.lon,b.alt):void 0===a?null:new du(b,a,c)}function dg(b,a,c,d){if(cY(b)){return this._a=b[0],this._b=b[1],this._c=b[2],void (this._d=b[3])}this._a=b,this._b=a,this._c=c,this._d=d}function c5(b,a,c,d){return new dg(b,a,c,d)}function dG(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function cL(l,f){var j,d,c,m,b,k,g="";for(j=0,c=l.length;j<c;j++){for(d=0,m=(b=l[j]).length;d<m;d++){k=b[d],g+=(d?"L":"M")+k.x+" "+k.y}g+=f?cT?"z":"x":""}return g||"M0 0"}function dO(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}function dN(b,a,c,d){return"touchstart"===a?dp(b,c,d):"touchmove"===a?c9(b,c,d):"touchend"===a&&dB(b,c,d),this}function dz(b,a,c){var d=b["_leaflet_"+a+c];return"touchstart"===a?b.removeEventListener(bh,d,!1):"touchmove"===a?b.removeEventListener(aW,d,!1):"touchend"===a&&(b.removeEventListener(b1,d,!1),b.removeEventListener(dP,d,!1)),this}function dp(b,a,d){var c=cU(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(c2.indexOf(e.target.tagName)<0)){return}aR(e)}cN(e,a)});b["_leaflet_touchstart"+d]=c,b.addEventListener(bh,c,!1),bS||(document.documentElement.addEventListener(bh,dj,!0),document.documentElement.addEventListener(aW,ds,!0),document.documentElement.addEventListener(b1,dI,!0),document.documentElement.addEventListener(dP,dI,!0),bS=!0)}function dj(a){bA[a.pointerId]=a,d0++}function ds(a){bA[a.pointerId]&&(bA[a.pointerId]=a)}function dI(a){delete bA[a.pointerId],d0--}function cN(b,a){b.touches=[];for(var c in bA){b.touches.push(bA[c])}b.changedTouches=[b],a(b)}function c9(b,a,c){var d=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&cN(e,a)};b["_leaflet_touchmove"+c]=d,b.addEventListener(aW,d,!1)}function dB(b,a,c){var d=function(e){cN(e,a)};b["_leaflet_touchend"+c]=d,b.addEventListener(b1,d,!1),b.addEventListener(dP,d,!1)}function dD(l,f,j){function d(h){var a;if(c4){if(!dq||"mouse"===h.pointerType){return}a=d0}else{a=h.touches.length}if(!(a>1)){var o=Date.now(),p=o-(m||o);b=h.touches?h.touches[0]:h,k=p>0&&p<=g,m=o}}function c(a){if(k&&!b.cancelBubble){if(c4){if(!dq||"mouse"===a.pointerType){return}var h,p,i={};for(p in b){h=b[p],i[p]=h&&h.bind?h.bind(b):h}b=i}b.type="dblclick",f(b),m=null}}var m,b,k=!1,g=250;return l[er+bb+j]=d,l[er+a1+j]=c,l[er+"dblclick"+j]=f,l.addEventListener(bb,d,!1),l.addEventListener(a1,c,!1),l.addEventListener("dblclick",f,!1),this}function dc(b,a){var c=b[er+bb+a],f=b[er+a1+a],d=b[er+"dblclick"+a];return b.removeEventListener(bb,c,!1),b.removeEventListener(a1,f,!1),dq||b.removeEventListener("dblclick",d,!1),this}function db(a){return"string"==typeof a?document.getElementById(a):a}function cC(b,a){var c=b.style[a]||b.currentStyle&&b.currentStyle[a];if((!c||"auto"===c)&&document.defaultView){var d=document.defaultView.getComputedStyle(b,null);c=d?d[a]:null}return"auto"===c?null:c}function dC(b,a,c){var d=document.createElement(b);return d.className=a||"",c&&c.appendChild(d),d}function dw(b){var a=b.parentNode;a&&a.removeChild(b)}function c7(a){for(;a.firstChild;){a.removeChild(a.firstChild)}}function c8(b){var a=b.parentNode;a.lastChild!==b&&a.appendChild(b)}function dx(b){var a=b.parentNode;a.firstChild!==b&&a.insertBefore(b,a.firstChild)}function d6(b,a){if(void 0!==b.classList){return b.classList.contains(a)}var c=bU(b);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function dk(b,a){if(void 0!==b.classList){for(var d=cx(a),g=0,f=d.length;g<f;g++){b.classList.add(d[g])}}else{if(!d6(b,a)){var c=bU(b);aP(b,(c?c+" ":"")+a)}}}function a9(b,a){void 0!==b.classList?b.classList.remove(a):aP(b,cQ((" "+bU(b)+" ").replace(" "+a+" "," ")))}function aP(b,a){void 0===b.className.baseVal?b.className=a:b.className.baseVal=a}function bU(a){return void 0===a.className.baseVal?a.className:a.className.baseVal}function dr(b,a){"opacity" in b.style?b.style.opacity=a:"filter" in b.style&&cI(b,a)}function cI(b,a){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=b.filters.item(d)}catch(b){if(1===a){return}}a=Math.round(100*a),c?(c.Enabled=100!==a,c.Opacity=a):b.style.filter+=" progid:"+d+"(opacity="+a+")"}function bq(b){for(var a=document.documentElement.style,c=0;c<b.length;c++){if(b[c] in a){return b[c]}}return !1}function bJ(b,a,c){var d=a||new cs(0,0);b.style[cM]=(aw?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function dS(b,a){b._leaflet_pos=a,aF?bJ(b,a):(b.style.left=a.x+"px",b.style.top=a.y+"px")}function a3(a){return a._leaflet_pos||new cs(0,0)}function aT(){dZ(window,"dragstart",aR)}function eh(){bD(window,"dragstart",aR)}function cr(a){for(;-1===a.tabIndex;){a=a.parentNode}a.style&&(ab(),d9=a,bM=a.style.outline,a.style.outline="none",dZ(window,"keydown",ab))}function ab(){d9&&(d9.style.outline=bM,d9=void 0,bM=void 0,bD(window,"keydown",ab))}function b8(a){do{a=a.parentNode}while(!(a.offsetWidth&&a.offsetHeight||a===document.body));return a}function cd(b){var a=b.getBoundingClientRect();return{x:a.width/b.offsetWidth||1,y:a.height/b.offsetHeight||1,boundingClientRect:a}}function dZ(b,a,f,h){if("object"==typeof a){for(var g in a){bk(b,g,a[g],f)}}else{for(var c=0,d=(a=cx(a)).length;c<d;c++){bk(b,a[c],f,h)}}return this}function bD(d,c,h,k){if("object"==typeof c){for(var j in c){aG(d,j,c[j],h)}}else{if(c){for(var f=0,g=(c=cx(c)).length;f<g;f++){aG(d,c[f],h,k)}}else{for(var b in d[ef]){aG(d,b,d[ef][b])}delete d[ef]}}return this}function bk(d,c,h,j){var f=c+cG(h)+(j?"_"+cG(j):"");if(d[ef]&&d[ef][f]){return this}var g=function(a){return h.call(j||d,a||window.event)},b=g;c4&&0===c.indexOf("touch")?dN(d,c,g,f):!b4||"dblclick"!==c||!dD||c4&&aD?"addEventListener" in d?"mousewheel"===c?d.addEventListener("onwheel" in d?"wheel":"mousewheel",g,!1):"mouseenter"===c||"mouseleave"===c?(g=function(a){a=a||window.event,a2(d,a)&&b(a)},d.addEventListener("mouseenter"===c?"mouseover":"mouseout",g,!1)):("click"===c&&dT&&(g=function(a){el(a,b)}),d.addEventListener(c,g,!1)):"attachEvent" in d&&d.attachEvent("on"+c,g):dD(d,g,f),d[ef]=d[ef]||{},d[ef][f]=g}function aG(b,a,f,g){var c=a+cG(f)+(g?"_"+cG(g):""),d=b[ef]&&b[ef][c];if(!d){return this}c4&&0===a.indexOf("touch")?dz(b,a,c):!b4||"dblclick"!==a||!dc||c4&&aD?"removeEventListener" in b?"mousewheel"===a?b.removeEventListener("onwheel" in b?"wheel":"mousewheel",d,!1):b.removeEventListener("mouseenter"===a?"mouseover":"mouseleave"===a?"mouseout":a,d,!1):"detachEvent" in b&&b.detachEvent("on"+a,d):dc(b,c),b[ef][c]=null}function d5(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,bH(a),this}function eo(a){return bk(a,"mousewheel",d5),this}function aq(a){return dZ(a,"mousedown touchstart dblclick",d5),bk(a,"click",dK),this}function aR(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function bX(a){return aR(a),d5(a),this}function c6(b,a){if(!a){return new cs(b.clientX,b.clientY)}var c=cd(a),d=c.boundingClientRect;return new cs((b.clientX-d.left)/c.x-a.clientLeft,(b.clientY-d.top)/c.y-a.clientTop)}function d3(a){return dq?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/ag:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}function dK(a){az[a.type]=!0}function bH(b){var a=az[b.type];return az[b.type]=!1,a}function a2(b,a){var c=a.relatedTarget;if(!c){return !0}try{for(;c&&c!==b;){c=c.parentNode}}catch(b){return !1}return c!==b}function el(b,a){var c=b.timeStamp||b.originalEvent&&b.originalEvent.timeStamp,d=bs&&c-bs;d&&d>100&&d<500||b.target._simulatedClick&&!b._simulated?bX(b):(bs=c,a(b))}function bw(b,a){if(!a||!b.length){return b.slice()}var c=a*a;return b=bj(b,c),b=ak(b,c)}function aA(b,a,c){return Math.sqrt(aO(b,a,c,!0))}function ak(b,a){var d=b.length,g=new (typeof Uint8Array!=void 0+""?Uint8Array:Array)(d);g[0]=g[d-1]=1,bB(b,g,a,0,d-1);var f,c=[];for(f=0;f<d;f++){g[f]&&c.push(b[f])}return c}function bB(l,f,j,d,c){var m,b,k,g=0;for(b=d+1;b<=c-1;b++){(k=aO(l[b],l[d],l[c],!0))>g&&(m=b,g=k)}g>j&&(f[m]=1,bB(l,f,j,d,m),bB(l,f,j,m,c))}function bj(b,a){for(var d=[b[0]],g=1,f=0,c=b.length;g<c;g++){bo(b[g],b[f])>a&&(d.push(b[g]),f=g)}return f<c-1&&d.push(b[c-1]),d}function dl(m,f,j,d,c){var p,b,k,g=d?au:ao(m,j),l=ao(f,j);for(au=l;;){if(!(g|l)){return[m,f]}if(g&l){return !1}k=ao(b=a7(m,f,p=g||l,j,c),j),p===g?(m=b,g=k):(f=b,l=k)}}function a7(q,g,k,d,c){var v,b,m=g.x-q.x,j=g.y-q.y,p=d.min,f=d.max;return 8&k?(v=q.x+m*(f.y-q.y)/j,b=f.y):4&k?(v=q.x+m*(p.y-q.y)/j,b=p.y):2&k?(v=f.x,b=q.y+j*(f.x-q.x)/m):1&k&&(v=p.x,b=q.y+j*(p.x-q.x)/m),new cs(v,b,c)}function ao(b,a){var c=0;return b.x<a.min.x?c|=1:b.x>a.max.x&&(c|=2),b.y<a.min.y?c|=4:b.y>a.max.y&&(c|=8),c}function bo(b,a){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function aO(m,f,j,d){var c,p=f.x,b=f.y,k=j.x-p,g=j.y-b,l=k*k+g*g;return l>0&&((c=((m.x-p)*k+(m.y-b)*g)/l)>1?(p=j.x,b=j.y):c>0&&(p+=k*c,b+=g*c)),k=m.x-p,g=m.y-b,d?k*k+g*g:new cs(p,b)}function aB(a){return !cY(a[0])||"object"!=typeof a[0][0]&&void 0!==a[0][0]}function cj(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),aB(a)}function dX(x,j,m){var f,d,y,b,q,k,w,g,p,v=[1,4,2,8];for(d=0,w=x.length;d<w;d++){x[d]._code=ao(x[d],j)}for(b=0;b<4;b++){for(g=v[b],f=[],d=0,y=(w=x.length)-1;d<w;y=d++){q=x[d],k=x[y],q._code&g?k._code&g||((p=a7(k,q,g,j,m))._code=ao(p,j),f.push(p)):(k._code&g&&((p=a7(k,q,g,j,m))._code=ao(p,j),f.push(p)),f.push(q))}x=f}return x}function ah(w,j){var m,f,d,x,b="Feature"===w.type?w.geometry:w,q=b?b.coordinates:null,k=[],v=j&&j.pointToLayer,g=j&&j.coordsToLatLng||dF;if(!q&&!b){return null}switch(b.type){case"Point":return m=g(q),v?v(w,m):new dH(m);case"MultiPoint":for(d=0,x=q.length;d<x;d++){m=g(q[d]),k.push(v?v(w,m):new dH(m))}return new cl(k);case"LineString":case"MultiLineString":return f=cV(q,"LineString"===b.type?0:1,g),new dy(f,j);case"Polygon":case"MultiPolygon":return f=cV(q,"Polygon"===b.type?1:2,g),new cP(f,j);case"GeometryCollection":for(d=0,x=b.geometries.length;d<x;d++){var p=ah({geometry:b.geometries[d],type:"Feature",properties:w.properties},j);p&&k.push(p)}return new cl(k);default:throw new Error("Invalid GeoJSON object.")}}function dF(a){return new du(a[1],a[0],a[2])}function cV(b,a,f){for(var h,g=[],c=0,d=b.length;c<d;c++){h=a?cV(b[c],a-1,f):(f||dF)(b[c]),g.push(h)}return g}function bZ(b,a){return a="number"==typeof a?a:6,void 0!==b.alt?[c1(b.lng,a),c1(b.lat,a),c1(b.alt,a)]:[c1(b.lng,a),c1(b.lat,a)]}function eg(b,a,f,h){for(var g=[],c=0,d=b.length;c<d;c++){g.push(a?eg(b[c],a-1,f,h):bZ(b[c],h))}return !a&&f&&g.push(g[0]),g}function cb(a,b){return a.feature?cO({},a.feature,{geometry:b}):bP(b)}function bP(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}function b3(b,a){return new bu(b,a)}function cE(b,a){return new d1(b,a)}function dh(a){return b7?new aJ(a):null}function aE(a){return cT||dA?new aV(a):null}var bf=Object.freeze;Object.freeze=function(a){return a};var aS=Object.create||function(){function a(){}return function(b){return a.prototype=b,new a}}(),bY=0,dJ=/\{ *([\w_-]+) *\}/g,cY=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},bx="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",bQ=0,dY=window.requestAnimationFrame||cD("RequestAnimationFrame")||cJ,a8=window.cancelAnimationFrame||cD("CancelAnimationFrame")||cD("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)},aZ=(Object.freeze||Object)({freeze:bf,extend:cO,create:aS,bind:cU,lastId:bY,stamp:cG,throttle:cF,wrapNum:cA,falseFn:cB,formatNum:c1,trim:cQ,splitWords:cx,setOptions:cK,getParamString:cX,template:c3,isArray:cY,indexOf:cW,emptyImageUrl:bx,requestFn:dY,cancelFn:a8,requestAnimFrame:cS,cancelAnimFrame:cR});cv.extend=function(a){var c=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=c.__super__=this.prototype,d=aS(f);d.constructor=c,c.prototype=d;for(var b in this){this.hasOwnProperty(b)&&"prototype"!==b&&"__super__"!==b&&(c[b]=this[b])}return a.statics&&(cO(c,a.statics),delete a.statics),a.includes&&(cq(a.includes),cO.apply(null,[d].concat(a.includes)),delete a.includes),d.options&&(a.options=cO(aS(d.options),a.options)),cO(d,a),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,e=d._initHooks.length;g<e;g++){d._initHooks[g].call(this)}}},c},cv.include=function(a){return cO(this.prototype,a),this},cv.mergeOptions=function(a){return cO(this.prototype.options,a),this},cv.addInitHook=function(b){var a=Array.prototype.slice.call(arguments,1),c="function"==typeof b?b:function(){this[b].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};var em={on:function(b,a,d){if("object"==typeof b){for(var g in b){this._on(g,b[g],a)}}else{for(var f=0,c=(b=cx(b)).length;f<c;f++){this._on(b[f],a,d)}}return this},off:function(b,a,d){if(b){if("object"==typeof b){for(var g in b){this._off(g,b[g],a)}}else{for(var f=0,c=(b=cx(b)).length;f<c;f++){this._off(b[f],a,d)}}}else{delete this._events}return this},_on:function(d,c,h){this._events=this._events||{};var k=this._events[d];k||(k=[],this._events[d]=k),h===this&&(h=void 0);for(var j={fn:c,ctx:h},f=k,g=0,b=f.length;g<b;g++){if(f[g].fn===c&&f[g].ctx===h){return}}f.push(j)},_off:function(d,c,g){var j,h,f;if(this._events&&(j=this._events[d])){if(c){if(g===this&&(g=void 0),j){for(h=0,f=j.length;h<f;h++){var b=j[h];if(b.ctx===g&&b.fn===c){return b.fn=cB,this._firingCount&&(this._events[d]=j=j.slice()),void j.splice(h,1)}}}}else{for(h=0,f=j.length;h<f;h++){j[h].fn=cB}delete this._events[d]}}},fire:function(c,i,k){if(!this.listens(c,k)){return this}var j=cO({},i,{type:c,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var f=this._events[c];if(f){this._firingCount=this._firingCount+1||1;for(var g=0,b=f.length;g<b;g++){var d=f[g];d.fn.call(d.ctx||this,j)}this._firingCount--}}return k&&this._propagateEvent(j),this},listens:function(b,a){var c=this._events&&this._events[b];if(c&&c.length){return !0}if(a){for(var d in this._eventParents){if(this._eventParents[d].listens(b,a)){return !0}}}return !1},once:function(b,a,e){if("object"==typeof b){for(var d in b){this.once(d,b[d],a)}return this}var c=cU(function(){this.off(b,a,e).off(b,c,e)},this);return this.on(b,a,e).on(b,c,e)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[cG(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[cG(a)],this},_propagateEvent:function(a){for(var b in this._eventParents){this._eventParents[b].fire(a.type,cO({layer:a.target,propagatedFrom:a.target},a),!0)}}};em.addEventListener=em.on,em.removeEventListener=em.clearAllEventListeners=em.off,em.addOneTimeEventListener=em.once,em.fireEvent=em.fire,em.hasEventListeners=em.listens;var cH=cv.extend(em),aj=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};cs.prototype={clone:function(){return new cs(this.x,this.y)},add:function(a){return this.clone()._add(cu(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(cu(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new cs(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new cs(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=aj(this.x),this.y=aj(this.y),this},distanceTo:function(b){var a=(b=cu(b)).x-this.x,c=b.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(a){return(a=cu(a)).x===this.x&&a.y===this.y},contains:function(a){return a=cu(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+c1(this.x)+", "+c1(this.y)+")"}},dm.prototype={extend:function(a){return a=cu(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new cs((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new cs(this.min.x,this.max.y)},getTopRight:function(){return new cs(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(b){var a,c;return(b="number"==typeof b[0]||b instanceof cs?cu(b):cZ(b)) instanceof dm?(a=b.min,c=b.max):a=c=b,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(b){b=cZ(b);var a=this.min,f=this.max,h=b.min,g=b.max,c=g.x>=a.x&&h.x<=f.x,d=g.y>=a.y&&h.y<=f.y;return c&&d},overlaps:function(b){b=cZ(b);var a=this.min,f=this.max,h=b.min,g=b.max,c=g.x>a.x&&h.x<f.x,d=g.y>a.y&&h.y<f.y;return c&&d},isValid:function(){return !(!this.min||!this.max)}},df.prototype={extend:function(b){var a,c,f=this._southWest,d=this._northEast;if(b instanceof du){a=b,c=b}else{if(!(b instanceof df)){return b?this.extend(dL(b)||co(b)):this}if(a=b._southWest,c=b._northEast,!a||!c){return this}}return f||d?(f.lat=Math.min(a.lat,f.lat),f.lng=Math.min(a.lng,f.lng),d.lat=Math.max(c.lat,d.lat),d.lng=Math.max(c.lng,d.lng)):(this._southWest=new du(a.lat,a.lng),this._northEast=new du(c.lat,c.lng)),this},pad:function(b){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*b,d=Math.abs(a.lng-c.lng)*b;return new df(new du(a.lat-f,a.lng-d),new du(c.lat+f,c.lng+d))},getCenter:function(){return new du((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new du(this.getNorth(),this.getWest())},getSouthEast:function(){return new du(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(b){b="number"==typeof b[0]||b instanceof du||"lat" in b?dL(b):co(b);var a,c,f=this._southWest,d=this._northEast;return b instanceof df?(a=b.getSouthWest(),c=b.getNorthEast()):a=c=b,a.lat>=f.lat&&c.lat<=d.lat&&a.lng>=f.lng&&c.lng<=d.lng},intersects:function(b){b=co(b);var a=this._southWest,f=this._northEast,h=b.getSouthWest(),g=b.getNorthEast(),c=g.lat>=a.lat&&h.lat<=f.lat,d=g.lng>=a.lng&&h.lng<=f.lng;return c&&d},overlaps:function(b){b=co(b);var a=this._southWest,f=this._northEast,h=b.getSouthWest(),g=b.getNorthEast(),c=g.lat>a.lat&&h.lat<f.lat,d=g.lng>a.lng&&h.lng<f.lng;return c&&d},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(b,a){return !!b&&(b=co(b),this._southWest.equals(b.getSouthWest(),a)&&this._northEast.equals(b.getNorthEast(),a))},isValid:function(){return !(!this._southWest||!this._northEast)}},du.prototype={equals:function(b,a){return !!b&&(b=dL(b),Math.max(Math.abs(this.lat-b.lat),Math.abs(this.lng-b.lng))<=(void 0===a?1e-9:a))},toString:function(a){return"LatLng("+c1(this.lat,a)+", "+c1(this.lng,a)+")"},distanceTo:function(a){return ck.distance(this,dL(a))},wrap:function(){return ck.wrapLatLng(this)},toBounds:function(b){var a=180*b/40075017,c=a/Math.cos(Math.PI/180*this.lat);return co([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new du(this.lat,this.lng,this.alt)}};var cc={latLngToPoint:function(b,a){var c=this.projection.project(b),d=this.scale(a);return this.transformation._transform(c,d)},pointToLatLng:function(b,a){var c=this.scale(a),d=this.transformation.untransform(b,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(b){if(this.infinite){return null}var a=this.projection.bounds,c=this.scale(b);return new dm(this.transformation.transform(a.min,c),this.transformation.transform(a.max,c))},infinite:!1,wrapLatLng:function(b){var a=this.wrapLng?cA(b.lng,this.wrapLng,!0):b.lng;return new du(this.wrapLat?cA(b.lat,this.wrapLat,!0):b.lat,a,b.alt)},wrapLatLngBounds:function(b){var a=b.getCenter(),f=this.wrapLatLng(a),h=a.lat-f.lat,g=a.lng-f.lng;if(0===h&&0===g){return b}var c=b.getSouthWest(),d=b.getNorthEast();return new df(new du(c.lat-h,c.lng-g),new du(d.lat-h,d.lng-g))}},ck=cO({},cc,{wrapLng:[-180,180],R:6371000,distance:function(l,f){var j=Math.PI/180,d=l.lat*j,c=f.lat*j,m=Math.sin((f.lat-l.lat)*j/2),b=Math.sin((f.lng-l.lng)*j/2),k=m*m+Math.cos(d)*Math.cos(c)*b*b,g=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*g}}),d4={R:6378137,MAX_LATITUDE:85.0511287798,project:function(b){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,b.lat),-c),d=Math.sin(f*a);return new cs(this.R*b.lng*a,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(b){var a=180/Math.PI;return new du((2*Math.atan(Math.exp(b.y/this.R))-Math.PI/2)*a,b.x*a/this.R)},bounds:function(){var a=6378137*Math.PI;return new dm([-a,-a],[a,a])}()};dg.prototype={transform:function(b,a){return this._transform(b.clone(),a)},_transform:function(b,a){return a=a||1,b.x=a*(this._a*b.x+this._b),b.y=a*(this._c*b.y+this._d),b},untransform:function(b,a){return a=a||1,new cs((b.x/a-this._b)/this._a,(b.y/a-this._d)/this._c)}};var bI,bp,aL,ec=cO({},ck,{code:"EPSG:3857",projection:d4,transformation:function(){var a=0.5/(Math.PI*d4.R);return c5(a,0.5,-a,0.5)}()}),ac=cO({},ec,{code:"EPSG:900913"}),ax=document.documentElement.style,aY="ActiveXObject" in window,b2=aY&&!document.addEventListener,dq="msLaunchUri" in navigator&&!("documentMode" in document),eb=dO("webkit"),dT=dO("android"),bO=dO("android 2")||dO("android 3"),a6=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),aa=dT&&dO("Google")&&a6<537&&!("AudioNode" in window),bC=!!window.opera,aD=dO("chrome"),ap=dO("gecko")&&!eb&&!bC&&!aY,bG=!aD&&dO("safari"),bm=dO("phantom"),dE="OTransition" in ax,bd=0===navigator.platform.indexOf("Win"),aw=aY&&"transition" in ax,bv="WebKitCSSMatrix" in window&&"m11" in new window.WebKitCSSMatrix&&!bO,aQ="MozPerspective" in ax,aF=!window.L_DISABLE_3D&&(aw||bv||aQ)&&!dE&&!bm,cp="undefined"!=typeof orientation||dO("mobile"),d2=cp&&eb,am=cp&&bv,dR=!window.PointerEvent&&window.MSPointerEvent,c4=!(!window.PointerEvent&&!dR),b4=!window.L_NO_TOUCH&&(c4||"ontouchstart" in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ek=cp&&bC,ch=cp&&ap,bT=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,b7=!!document.createElement("canvas").getContext,cT=!(!document.createElementNS||!dG("svg").createSVGRect),dA=!cT&&function(){try{var b=document.createElement("div");b.innerHTML='<v:shape adj="1"/>';var a=b.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch(b){return !1}}(),aK=(Object.freeze||Object)({ie:aY,ielt9:b2,edge:dq,webkit:eb,android:dT,android23:bO,androidStock:aa,opera:bC,chrome:aD,gecko:ap,safari:bG,phantom:bm,opera12:dE,win:bd,ie3d:aw,webkit3d:bv,gecko3d:aQ,any3d:aF,mobile:cp,mobileWebkit:d2,mobileWebkit3d:am,msPointer:dR,pointer:c4,touch:b4,mobileOpera:ek,mobileGecko:ch,retina:bT,canvas:b7,svg:cT,vml:dA}),bh=dR?"MSPointerDown":"pointerdown",aW=dR?"MSPointerMove":"pointermove",b1=dR?"MSPointerUp":"pointerup",dP=dR?"MSPointerCancel":"pointercancel",c2=["INPUT","SELECT","OPTION"],bA={},bS=!1,d0=0,bb=dR?"MSPointerDown":c4?"pointerdown":"touchstart",a1=dR?"MSPointerUp":c4?"pointerup":"touchend",er="_leaflet_",cM=bq(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),al=bq(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),cf="webkitTransition"===al||"OTransition"===al?al+"End":"transitionend";if("onselectstart" in document){bI=function(){dZ(window,"selectstart",aR)},bp=function(){bD(window,"selectstart",aR)}}else{var cm=bq(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bI=function(){if(cm){var a=document.documentElement.style;aL=a[cm],a[cm]="none"}},bp=function(){cm&&(document.documentElement.style[cm]=aL,aL=void 0)}}var d9,bM,bs,aN=(Object.freeze||Object)({TRANSFORM:cM,TRANSITION:al,TRANSITION_END:cf,get:db,getStyle:cC,create:dC,remove:dw,empty:c7,toFront:c8,toBack:dx,hasClass:d6,addClass:dk,removeClass:a9,setClass:aP,getClass:bU,setOpacity:dr,testProp:bq,setTransform:bJ,setPosition:dS,getPosition:a3,disableTextSelection:bI,enableTextSelection:bp,disableImageDrag:aT,enableImageDrag:eh,preventOutline:cr,restoreOutline:ab,getSizedParentNode:b8,getScale:cd}),ef="_leaflet_events",ag=bd&&aD?2*window.devicePixelRatio:ap?window.devicePixelRatio:1,az={},a0=(Object.freeze||Object)({on:dZ,off:bD,stopPropagation:d5,disableScrollPropagation:eo,disableClickPropagation:aq,preventDefault:aR,stop:bX,getMousePosition:c6,getWheelDelta:d3,fakeStop:dK,skipped:bH,isExternalTarget:a2,addListener:dZ,removeListener:bD}),b5=cH.extend({run:function(b,a,c,d){this.stop(),this._el=b,this._inProgress=!0,this._duration=c||0.25,this._easeOutPower=1/Math.max(d||0.5,0.2),this._startPos=a3(b),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=cS(this._animate,this),this._step()},_step:function(b){var a=+new Date-this._startTime,c=1000*this._duration;a<c?this._runFrame(this._easeOut(a/c),b):(this._runFrame(1),this._complete())},_runFrame:function(b,a){var c=this._startPos.add(this._offset.multiplyBy(b));a&&c._round(),dS(this._el,c),this.fire("step")},_complete:function(){cR(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),dv=cH.extend({options:{crs:ec,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,a){a=cK(this,a),this._initContainer(b),this._initLayout(),this._onResize=cU(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom)),a.center&&void 0!==a.zoom&&this.setView(dL(a.center),a.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=al&&aF&&!ek&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),dZ(this._proxy,cf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,b,c){return b=void 0===b?this._zoom:this._limitZoom(b),a=this._limitCenter(dL(a),b,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&!0!==c&&(void 0!==c.animate&&(c.zoom=cO({animate:c.animate},c.zoom),c.pan=cO({animate:c.animate,duration:c.duration},c.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(a,b),this)},setZoom:function(b,a){return this._loaded?this.setView(this.getCenter(),b,{zoom:a}):(this._zoom=b,this)},zoomIn:function(b,a){return b=b||(aF?this.options.zoomDelta:1),this.setZoom(this._zoom+b,a)},zoomOut:function(b,a){return b=b||(aF?this.options.zoomDelta:1),this.setZoom(this._zoom-b,a)},setZoomAround:function(b,a,f){var h=this.getZoomScale(a),g=this.getSize().divideBy(2),c=(b instanceof cs?b:this.latLngToContainerPoint(b)).subtract(g).multiplyBy(1-1/h),d=this.containerPointToLatLng(g.add(c));return this.setView(d,a,{zoom:f})},_getBoundsCenterZoom:function(d,c){c=c||{},d=d.getBounds?d.getBounds():co(d);var h=cu(c.paddingTopLeft||c.padding||[0,0]),k=cu(c.paddingBottomRight||c.padding||[0,0]),j=this.getBoundsZoom(d,!1,h.add(k));if((j="number"==typeof c.maxZoom?Math.min(c.maxZoom,j):j)===1/0){return{center:d.getCenter(),zoom:j}}var f=k.subtract(h).divideBy(2),g=this.project(d.getSouthWest(),j),b=this.project(d.getNorthEast(),j);return{center:this.unproject(g.add(b).divideBy(2).add(f),j),zoom:j}},fitBounds:function(b,a){if(!(b=co(b)).isValid()){throw new Error("Bounds are not valid.")}var c=this._getBoundsCenterZoom(b,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(b,a){return this.setView(b,this._zoom,{pan:a})},panBy:function(b,a){if(b=cu(b).round(),a=a||{},!b.x&&!b.y){return this.fire("moveend")}if(!0!==a.animate&&!this.getSize().contains(b)){return this._resetView(this.unproject(this.project(this.getCenter()).add(b)),this.getZoom()),this}if(this._panAnim||(this._panAnim=new b5,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),!1!==a.animate){dk(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(b).round();this._panAnim.run(this._mapPane,c,a.duration||0.25,a.easeLinearity)}else{this._rawPanBy(b),this.fire("move").fire("moveend")}return this},flyTo:function(C,K,O){function H(b){var a=(N*N-I*I+(b?-1:1)*q*q*A*A)/(2*(b?N:I)*q*A),c=Math.sqrt(a*a+1)-a;return c<1e-9?-18:Math.log(c)}function G(a){return(Math.exp(a)-Math.exp(-a))/2}function D(a){return(Math.exp(a)+Math.exp(-a))/2}function E(a){return G(a)/D(a)}function T(a){return I*(D(z)/D(z+k*a))}function M(a){return I*(D(z)*E(z+k*a)-G(z))/q}function B(a){return 1-Math.pow(1-a,1.5)}function J(){var a=(Date.now()-f)/S,b=B(a)*j;a<=1?(this._flyToFrame=cS(J,this),this._move(this.unproject(R.add(U.subtract(R).multiplyBy(M(b)/A)),F),this.getScaleZoom(I/T(b),F),{flyTo:!0})):this._move(C,K)._moveEnd(!0)}if(!1===(O=O||{}).animate||!aF){return this.setView(C,K,O)}this._stop();var R=this.project(this.getCenter()),U=this.project(C),Q=this.getSize(),F=this._zoom;C=dL(C),K=void 0===K?F:K;var I=Math.max(Q.x,Q.y),N=I*this.getZoomScale(F,K),A=U.distanceTo(R)||1,k=1.42,q=k*k,z=H(0),f=Date.now(),j=(H(1)-z)/k,S=O.duration?1000*O.duration:1000*j*0.8;return this._moveStart(!0,O.noMoveStart),J.call(this),this},flyToBounds:function(b,a){var c=this._getBoundsCenterZoom(b,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(a){return(a=co(a)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(b){var a=this.options.minZoom;return this.options.minZoom=b,this._loaded&&a!==b&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(b):this},setMaxZoom:function(b){var a=this.options.maxZoom;return this.options.maxZoom=b,this._loaded&&a!==b&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(b):this},panInsideBounds:function(b,a){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,co(b));return c.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},invalidateSize:function(c){if(!this._loaded){return this}c=cO({animate:!1,pan:!0},!0===c?{animate:!0}:c);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),d=g.divideBy(2).round(),e=f.divideBy(2).round(),b=d.subtract(e);return b.x||b.y?(c.animate&&c.pan?this.panBy(b):(c.pan&&this._rawPanBy(b),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(cU(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:f})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=cO({timeout:10000,watch:!1},a),!("geolocation" in navigator)){return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this}var c=cU(this._handleGeolocationResponse,this),b=cU(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,b,a):navigator.geolocation.getCurrentPosition(c,b,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(b){var a=b.code,c=b.message||(1===a?"permission denied":2===a?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(b){var a=new du(b.coords.latitude,b.coords.longitude),f=a.toBounds(2*b.coords.accuracy),h=this._locateOptions;if(h.setView){var g=this.getBoundsZoom(f);this.setView(a,h.maxZoom?Math.min(g,h.maxZoom):g)}var c={latlng:a,bounds:f,timestamp:b.timestamp};for(var d in b.coords){"number"==typeof b.coords[d]&&(c[d]=b.coords[d])}this.fire("locationfound",c)},addHandler:function(b,a){if(!a){return this}var c=this[b]=new a(this);return this._handlers.push(c),this.options[b]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id,delete this._containerId}catch(a){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),dw(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(cR(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers){this._layers[a].remove()}for(a in this._panes){dw(this._panes[a])}return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(b,a){var c=dC("div","leaflet-pane"+(b?" leaflet-"+b.replace("Pane","")+"-pane":""),a||this._mapPane);return b&&(this._panes[b]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new df(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(z,k,p){z=co(z),p=cu(p||[0,0]);var g=this.getZoom()||0,f=this.getMinZoom(),A=this.getMaxZoom(),b=z.getNorthWest(),w=z.getSouthEast(),m=this.getSize().subtract(p),y=cZ(this.project(w,g),this.project(b,g)).getSize(),j=aF?this.options.zoomSnap:1,v=m.x/y.x,x=m.y/y.y,q=k?Math.max(v,x):Math.min(v,x);return g=this.getScaleZoom(q,g),j&&(g=Math.round(g/(j/100))*(j/100),g=k?Math.ceil(g/j)*j:Math.floor(g/j)*j),Math.max(f,Math.min(A,g))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new cs(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(b,a){var c=this._getTopLeftPoint(b,a);return new dm(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(b,a){var c=this.options.crs;return a=void 0===a?this._zoom:a,c.scale(b)/c.scale(a)},getScaleZoom:function(b,a){var c=this.options.crs;a=void 0===a?this._zoom:a;var d=c.zoom(b*c.scale(a));return isNaN(d)?1/0:d},project:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(dL(b),a)},unproject:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(cu(b),a)},layerPointToLatLng:function(b){var a=cu(b).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(dL(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(dL(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(co(a))},distance:function(b,a){return this.options.crs.distance(dL(b),dL(a))},containerPointToLayerPoint:function(a){return cu(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return cu(a).add(this._getMapPanePos())},containerPointToLatLng:function(b){var a=this.containerPointToLayerPoint(cu(b));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dL(a)))},mouseEventToContainerPoint:function(a){return c6(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(b){var a=this._container=db(b);if(!a){throw new Error("Map container not found.")}if(a._leaflet_id){throw new Error("Map container is already initialized.")}dZ(a,"scroll",this._onScroll,this),this._containerId=cG(a)},_initLayout:function(){var b=this._container;this._fadeAnimated=this.options.fadeAnimation&&aF,dk(b,"leaflet-container"+(b4?" leaflet-touch":"")+(bT?" leaflet-retina":"")+(b2?" leaflet-oldie":"")+(bG?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=cC(b,"position");"absolute"!==a&&"relative"!==a&&"fixed"!==a&&(b.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dS(this._mapPane,new cs(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dk(a.markerPane,"leaflet-zoom-hide"),dk(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(b,a){dS(this._mapPane,new cs(0,0));var c=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var d=this._zoom!==a;this._moveStart(d,!1)._move(b,a)._moveEnd(d),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(b,a){return b&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(b,a,c){void 0===a&&(a=this._zoom);var d=this._zoom!==a;return this._zoom=a,this._lastCenter=b,this._pixelOrigin=this._getNewPixelOrigin(b),(d||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return cR(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){dS(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(b){this._targets={},this._targets[cG(this._container)]=this;var a=b?bD:dZ;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),aF&&this.options.transform3DLimit&&(b?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){cR(this._resizeRequest),this._resizeRequest=cS(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,c){for(var h,j=[],f="mouseout"===c||"mouseover"===c,g=d.target||d.srcElement,b=!1;g;){if((h=this._targets[cG(g)])&&("click"===c||"preclick"===c)&&!d._simulated&&this._draggableMoved(h)){b=!0;break}if(h&&h.listens(c,!0)){if(f&&!a2(g,d)){break}if(j.push(h),f){break}}if(g===this._container){break}g=g.parentNode}return j.length||b||f||!a2(g,d)||(j=[this]),j},_handleDOMEvent:function(b){if(this._loaded&&!bH(b)){var a=b.type;"mousedown"!==a&&"keypress"!==a||cr(b.target||b.srcElement),this._fireDOMEvent(b,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,i,k){if("click"===c.type){var j=cO({},c);j.type="preclick",this._fireDOMEvent(j,j.type,k)}if(!c._stopped&&(k=(k||[]).concat(this._findEventTargets(c,i))).length){var f=k[0];"contextmenu"===i&&f.listens(i,!0)&&aR(c);var g={originalEvent:c};if("keypress"!==c.type){var b=f.getLatLng&&(!f._radius||f._radius<=10);g.containerPoint=b?this.latLngToContainerPoint(f.getLatLng()):this.mouseEventToContainerPoint(c),g.layerPoint=this.containerPointToLayerPoint(g.containerPoint),g.latlng=b?f.getLatLng():this.layerPointToLatLng(g.layerPoint)}for(var d=0;d<k.length;d++){if(k[d].fire(i,g,!0),g.originalEvent._stopped||!1===k[d].options.bubblingMouseEvents&&-1!==cW(this._mouseEvents,i)){return}}}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var b=0,a=this._handlers.length;b<a;b++){this._handlers[b].disable()}},whenReady:function(b,a){return this._loaded?b.call(a||this,{target:this}):this.on("load",b,a),this},_getMapPanePos:function(){return a3(this._mapPane)||new cs(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(b,a){return(b&&void 0!==a?this._getNewPixelOrigin(b,a):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(b,a){var c=this.getSize()._divideBy(2);return this.project(b,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(b,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(b,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(b,a,c){var d=this._getNewPixelOrigin(c,a);return cZ([this.project(b.getSouthWest(),a)._subtract(d),this.project(b.getNorthWest(),a)._subtract(d),this.project(b.getSouthEast(),a)._subtract(d),this.project(b.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(b,a,f){if(!f){return b}var h=this.project(b,a),g=this.getSize().divideBy(2),c=new dm(h.subtract(g),h.add(g)),d=this._getBoundsOffset(c,f,a);return d.round().equals([0,0])?b:this.unproject(h.add(d),a)},_limitOffset:function(b,a){if(!a){return b}var c=this.getPixelBounds(),d=new dm(c.min.add(b),c.max.add(b));return b.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(b,a,d){var g=cZ(this.project(a.getNorthEast(),d),this.project(a.getSouthWest(),d)),f=g.min.subtract(b.min),c=g.max.subtract(b.max);return new cs(this._rebound(f.x,-c.x),this._rebound(f.y,-c.y))},_rebound:function(b,a){return b+a>0?Math.round(b-a)/2:Math.max(0,Math.ceil(b))-Math.max(0,Math.floor(a))},_limitZoom:function(b){var a=this.getMinZoom(),c=this.getMaxZoom(),d=aF?this.options.zoomSnap:1;return d&&(b=Math.round(b/d)*d),Math.max(a,Math.min(c,b))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){a9(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(b,a){var c=this._getCenterOffset(b)._trunc();return !(!0!==(a&&a.animate)&&!this.getSize().contains(c))&&(this.panBy(c,a),!0)},_createAnimProxy:function(){var a=this._proxy=dC("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var b=cM,d=this._proxy.style[b];bJ(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),d===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var c=this.getCenter(),b=this.getZoom();bJ(this._proxy,this.project(c,b),this.getZoomScale(b,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dw(this._proxy),delete this._proxy},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(b,a,c){if(this._animatingZoom){return !0}if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold){return !1}var f=this.getZoomScale(a),d=this._getCenterOffset(b)._divideBy(1-1/f);return !(!0!==c.animate&&!this.getSize().contains(d))&&(cS(function(){this._moveStart(!0,!1)._animateZoom(b,a,!0)},this),!0)},_animateZoom:function(b,a,d,c){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=b,this._animateToZoom=a,dk(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:b,zoom:a,noUpdate:c}),setTimeout(cU(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&a9(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),cS(function(){this._moveEnd(!0)},this))}}),ed=cv.extend({options:{position:"topright"},initialize:function(a){cK(this,a)},getPosition:function(){return this.options.position},setPosition:function(b){var a=this._map;return a&&a.removeControl(this),this.options.position=b,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(b){this.remove(),this._map=b;var a=this._container=this.onAdd(b),c=this.getPosition(),d=b._controlCorners[c];return dk(a,"leaflet-control"),-1!==c.indexOf("bottom")?d.insertBefore(a,d.firstChild):d.appendChild(a),this},remove:function(){return this._map?(dw(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),dW=function(a){return new ed(a)};dv.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function b(e,g){var f=c+e+" "+c+g;a[e+g]=dC("div",f,d)}var a=this._controlCorners={},c="leaflet-",d=this._controlContainer=dC("div",c+"control-container",this._container);b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners){dw(this._controlCorners[a])}dw(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bR=ed.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(b,a,c,d){return c<d?-1:d<c?1:0}},initialize:function(b,a,c){cK(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var d in b){this._addLayer(b[d],d)}for(d in a){this._addLayer(a[d],d,!0)}},onAdd:function(b){this._initLayout(),this._update(),this._map=b,b.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++){this._layers[a].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(a){return ed.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++){this._layers[a].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(b,a){return this._addLayer(b,a),this._map?this._update():this},addOverlay:function(b,a){return this._addLayer(b,a,!0),this._map?this._update():this},removeLayer:function(b){b.off("add remove",this._onLayerChange,this);var a=this._getLayer(cG(b));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){dk(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._form.clientHeight?(dk(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=a+"px"):a9(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return a9(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var b="leaflet-control-layers",a=this._container=dC("div",b),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),aq(a),eo(a);var f=this._form=dC("form",b+"-list");c&&(this._map.on("click",this.collapse,this),dT||dZ(a,{mouseenter:this.expand,mouseleave:this.collapse},this));var d=this._layersLink=dC("a",b+"-toggle",a);d.href="#",d.title="Layers",b4?(dZ(d,"click",bX),dZ(d,"click",this.expand,this)):dZ(d,"focus",this.expand,this),c||this.expand(),this._baseLayersList=dC("div",b+"-base",f),this._separator=dC("div",b+"-separator",f),this._overlaysList=dC("div",b+"-overlays",f),a.appendChild(f)},_getLayer:function(b){for(var a=0;a<this._layers.length;a++){if(this._layers[a]&&cG(this._layers[a].layer)===b){return this._layers[a]}}},_addLayer:function(b,a,c){this._map&&b.on("add remove",this._onLayerChange,this),this._layers.push({layer:b,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(cU(function(e,d){return this.options.sortFunction(e.layer,d.layer,e.name,d.name)},this)),this.options.autoZIndex&&b.setZIndex&&(this._lastZIndex++,b.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}c7(this._baseLayersList),c7(this._overlaysList),this._layerControlInputs=[];var b,a,c,f,d=0;for(c=0;c<this._layers.length;c++){f=this._layers[c],this._addItem(f),a=a||f.overlay,b=b||!f.overlay,d+=f.overlay?0:1}return this.options.hideSingleBase&&(b=b&&d>1,this._baseLayersList.style.display=b?"":"none"),this._separator.style.display=a&&b?"":"none",this},_onLayerChange:function(b){this._handlingClick||this._update();var a=this._getLayer(cG(b.target)),c=a.overlay?"add"===b.type?"overlayadd":"overlayremove":"add"===b.type?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(b,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+b+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(b){var a,f=document.createElement("label"),g=this._map.hasLayer(b.layer);b.overlay?((a=document.createElement("input")).type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=g):a=this._createRadioElement("leaflet-base-layers",g),this._layerControlInputs.push(a),a.layerId=cG(b.layer),dZ(a,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+b.name;var d=document.createElement("div");return f.appendChild(d),d.appendChild(a),d.appendChild(c),(b.overlay?this._overlaysList:this._baseLayersList).appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){var b,a,d=this._layerControlInputs,g=[],f=[];this._handlingClick=!0;for(var c=d.length-1;c>=0;c--){b=d[c],a=this._getLayer(b.layerId).layer,b.checked?g.push(a):b.checked||f.push(a)}for(c=0;c<f.length;c++){this._map.hasLayer(f[c])&&this._map.removeLayer(f[c])}for(c=0;c<g.length;c++){this._map.hasLayer(g[c])||this._map.addLayer(g[c])}this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var b,a,c=this._layerControlInputs,f=this._map.getZoom(),d=c.length-1;d>=0;d--){b=c[d],a=this._getLayer(b.layerId).layer,b.disabled=void 0!==a.options.minZoom&&f<a.options.minZoom||void 0!==a.options.maxZoom&&f>a.options.maxZoom}},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ba=ed.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"−",zoomOutTitle:"Zoom out"},onAdd:function(b){var a="leaflet-control-zoom",c=dC("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),b.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(b,a,d,g,f){var c=dC("a",d,g);return c.innerHTML=b,c.href="#",c.title=a,c.setAttribute("role","button"),c.setAttribute("aria-label",a),aq(c),dZ(c,"click",bX),dZ(c,"click",f,this),dZ(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var b=this._map,a="leaflet-disabled";a9(this._zoomInButton,a),a9(this._zoomOutButton,a),(this._disabled||b._zoom===b.getMinZoom())&&dk(this._zoomOutButton,a),(this._disabled||b._zoom===b.getMaxZoom())&&dk(this._zoomInButton,a)}});dv.mergeOptions({zoomControl:!0}),dv.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ba,this.addControl(this.zoomControl))});var ad=ed.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(b){var a=dC("div","leaflet-control-scale"),c=this.options;return this._addScales(c,"leaflet-control-scale-line",a),b.on(c.updateWhenIdle?"moveend":"move",this._update,this),b.whenReady(this._update,this),a},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(b,a,c){b.metric&&(this._mScale=dC("div",a,c)),b.imperial&&(this._iScale=dC("div",a,c))},_update:function(){var b=this._map,a=b.getSize().y/2,c=b.distance(b.containerPointToLatLng([0,a]),b.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(b){var a=this._getRoundNum(b),c=a<1000?a+" m":a/1000+" km";this._updateScale(this._mScale,c,a/b)},_updateImperial:function(b){var a,c,f,d=3.2808399*b;d>5280?(a=d/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(f=this._getRoundNum(d),this._updateScale(this._iScale,f+" ft",f/d))},_updateScale:function(b,a,c){b.style.width=Math.round(this.options.maxWidth*c)+"px",b.innerHTML=a},_getRoundNum:function(b){var a=Math.pow(10,(Math.floor(b)+"").length-1),c=b/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),bE=ed.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){cK(this,a),this._attributions={}},onAdd:function(b){b.attributionControl=this,this._container=dC("div","leaflet-control-attribution"),aq(this._container);for(var a in b._layers){b._layers[a].getAttribution&&this.addAttribution(b._layers[a].getAttribution())}return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var b=[];for(var a in this._attributions){this._attributions[a]&&b.push(a)}var c=[];this.options.prefix&&c.push(this.options.prefix),b.length&&c.push(b.join(", ")),this._container.innerHTML=c.join(" | ")}}});dv.mergeOptions({attributionControl:!0}),dv.addInitHook(function(){this.options.attributionControl&&(new bE).addTo(this)});ed.Layers=bR,ed.Zoom=ba,ed.Scale=ad,ed.Attribution=bE,dW.layers=function(b,a,c){return new bR(b,a,c)},dW.zoom=function(a){return new ba(a)},dW.scale=function(a){return new ad(a)},dW.attribution=function(a){return new bE(a)};var aH=cv.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return !!this._enabled}});aH.addTo=function(b,a){return b.addHandler(a,this),this};var au,bK={Events:em},br=b4?"touchstart mousedown":"mousedown",dM={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},bg={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ay=cH.extend({options:{clickTolerance:3},initialize:function(b,a,c,d){cK(this,d),this._element=b,this._dragStartTarget=a||b,this._preventOutline=c},enable:function(){this._enabled||(dZ(this._dragStartTarget,br,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ay._dragging===this&&this.finishDrag(),bD(this._dragStartTarget,br,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(b){if(!b._simulated&&this._enabled&&(this._moved=!1,!d6(this._element,"leaflet-zoom-anim")&&!(ay._dragging||b.shiftKey||1!==b.which&&1!==b.button&&!b.touches||(ay._dragging=this,this._preventOutline&&cr(this._element),aT(),bI(),this._moving)))){this.fire("down");var a=b.touches?b.touches[0]:b,c=b8(this._element);this._startPoint=new cs(a.clientX,a.clientY),this._parentScale=cd(c),dZ(document,bg[b.type],this._onMove,this),dZ(document,dM[b.type],this._onUp,this)}},_onMove:function(b){if(!b._simulated&&this._enabled){if(b.touches&&b.touches.length>1){this._moved=!0}else{var a=b.touches&&1===b.touches.length?b.touches[0]:b,c=new cs(a.clientX,a.clientY)._subtract(this._startPoint);(c.x||c.y)&&(Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,aR(b),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=a3(this._element).subtract(c),dk(document.body,"leaflet-dragging"),this._lastTarget=b.target||b.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dk(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,cR(this._animRequest),this._lastEvent=b,this._animRequest=cS(this._updatePosition,this,!0)))}}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),dS(this._element,this._newPos),this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){a9(document.body,"leaflet-dragging"),this._lastTarget&&(a9(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in bg){bD(document,bg[a],this._onMove,this),bD(document,dM[a],this._onUp,this)}eh(),bp(),this._moved&&this._moving&&(cR(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ay._dragging=!1}}),by=(Object.freeze||Object)({simplify:bw,pointToSegmentDistance:aA,closestPointOnSegment:function(b,a,c){return aO(b,a,c)},clipSegment:dl,_getEdgeIntersection:a7,_getBitCode:ao,_sqClosestPointOnSegment:aO,isFlat:aB,_flat:cj}),aU=(Object.freeze||Object)({clipPolygon:dX}),aI={project:function(a){return new cs(a.lng,a.lat)},unproject:function(a){return new du(a.y,a.x)},bounds:new dm([-180,-90],[180,90])},cw={R:6378137,R_MINOR:6356752.314245179,bounds:new dm([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(d){var c=Math.PI/180,h=this.R,k=d.lat*c,j=this.R_MINOR/h,f=Math.sqrt(1-j*j),g=f*Math.sin(k),b=Math.tan(Math.PI/4-k/2)/Math.pow((1-g)/(1+g),f/2);return k=-h*Math.log(Math.max(b,1e-10)),new cs(d.lng*c*h,k)},unproject:function(m){for(var f,j=180/Math.PI,d=this.R,c=this.R_MINOR/d,p=Math.sqrt(1-c*c),b=Math.exp(-m.y/d),k=Math.PI/2-2*Math.atan(b),g=0,l=0.1;g<15&&Math.abs(l)>1e-7;g++){f=p*Math.sin(k),f=Math.pow((1-f)/(1+f),p/2),k+=l=Math.PI/2-2*Math.atan(b*f)-k}return new du(k*j,m.x*j/d)}},d7=(Object.freeze||Object)({LonLat:aI,Mercator:cw,SphericalMercator:d4}),ar=cO({},ck,{code:"EPSG:3395",projection:cw,transformation:function(){var a=0.5/(Math.PI*cw.R);return c5(a,0.5,-a,0.5)}()}),dU=cO({},ck,{code:"EPSG:4326",projection:aI,transformation:c5(1/180,1,-1/180,0.5)}),da=cO({},cc,{projection:aI,transformation:c5(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(b,a){var c=a.lng-b.lng,d=a.lat-b.lat;return Math.sqrt(c*c+d*d)},infinite:!0});cc.Earth=ck,cc.EPSG3395=ar,cc.EPSG3857=ec,cc.EPSG900913=ac,cc.EPSG4326=dU,cc.Simple=da;var b6=cH.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[cG(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[cG(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(b){var a=b.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.getAttribution&&a.attributionControl&&a.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),a.fire("layeradd",{layer:this})}}});dv.include({addLayer:function(b){if(!b._layerAdd){throw new Error("The provided object is not a Layer.")}var a=cG(b);return this._layers[a]?this:(this._layers[a]=b,b._mapToAdd=this,b.beforeAdd&&b.beforeAdd(this),this.whenReady(b._layerAdd,b),this)},removeLayer:function(b){var a=cG(b);return this._layers[a]?(this._loaded&&b.onRemove(this),b.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(b.getAttribution()),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:b}),b.fire("remove")),b._map=b._mapToAdd=null,this):this},hasLayer:function(a){return !!a&&cG(a) in this._layers},eachLayer:function(b,a){for(var c in this._layers){b.call(a,this._layers[c])}return this},_addLayers:function(b){for(var a=0,c=(b=b?cY(b)?b:[b]:[]).length;a<c;a++){this.addLayer(b[a])}},_addZoomLimit:function(a){!isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[cG(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(b){var a=cG(b);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var b=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var d=this._zoomBoundLayers[f].options;b=void 0===d.minZoom?b:Math.min(b,d.minZoom),a=void 0===d.maxZoom?a:Math.max(a,d.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=b===1/0?void 0:b,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ep=b6.extend({initialize:function(b,a){cK(this,a),this._layers={};var c,d;if(b){for(c=0,d=b.length;c<d;c++){this.addLayer(b[c])}}},addLayer:function(b){var a=this.getLayerId(b);return this._layers[a]=b,this._map&&this._map.addLayer(b),this},removeLayer:function(b){var a=b in this._layers?b:this.getLayerId(b);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return !!a&&(a in this._layers||this.getLayerId(a) in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(b){var a,c,d=Array.prototype.slice.call(arguments,1);for(a in this._layers){(c=this._layers[a])[b]&&c[b].apply(c,d)}return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(b,a){for(var c in this._layers){b.call(a,this._layers[c])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return cG(a)}}),cl=ep.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ep.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ep.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var b=new df;for(var a in this._layers){var c=this._layers[a];b.extend(c.getBounds?c.getBounds():c.getLatLng())}return b}}),bV=cv.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(a){cK(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(b,a){var c=this._getIconUrl(b);if(!c){if("icon"===b){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var d=this._createImg(c,a&&"IMG"===a.tagName?a:null);return this._setIconStyles(d,b),d},_setIconStyles:function(b,a){var d=this.options,g=d[a+"Size"];"number"==typeof g&&(g=[g,g]);var f=cu(g),c=cu("shadow"===a&&d.shadowAnchor||d.iconAnchor||f&&f.divideBy(2,!0));b.className="leaflet-marker-"+a+" "+(d.className||""),c&&(b.style.marginLeft=-c.x+"px",b.style.marginTop=-c.y+"px"),f&&(b.style.width=f.x+"px",b.style.height=f.y+"px")},_createImg:function(b,a){return a=a||document.createElement("img"),a.src=b,a},_getIconUrl:function(a){return bT&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),b9=bV.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return b9.imagePath||(b9.imagePath=this._detectIconPath()),(this.options.imagePath||b9.imagePath)+bV.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var b=dC("div","leaflet-default-icon-path",document.body),a=cC(b,"background-image")||cC(b,"backgroundImage");return document.body.removeChild(b),a=null===a||0!==a.indexOf("url")?"":a.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),c0=aH.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ay(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dk(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&a9(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var f=this._marker,j=f._map,d=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,p=a3(f._icon),b=j.getPixelBounds(),k=j.getPixelOrigin(),g=cZ(b.min._subtract(k).add(c),b.max._subtract(k).subtract(c));if(!g.contains(p)){var l=cu((Math.max(g.max.x,p.x)-g.max.x)/(b.max.x-g.max.x)-(Math.min(g.min.x,p.x)-g.min.x)/(b.min.x-g.min.x),(Math.max(g.max.y,p.y)-g.max.y)/(b.max.y-g.max.y)-(Math.min(g.min.y,p.y)-g.min.y)/(b.min.y-g.min.y)).multiplyBy(d);j.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),dS(f._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=cS(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(cR(this._panRequest),this._panRequest=cS(this._adjustPan.bind(this,a)))},_onDrag:function(b){var a=this._marker,c=a._shadow,f=a3(a._icon),d=a._map.layerPointToLatLng(f);c&&dS(c,f),a._latlng=d,b.latlng=d,b.oldLatLng=this._oldLatLng,a.fire("move",b).fire("drag",b)},_onDragEnd:function(a){cR(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),dH=b6.extend({options:{icon:new b9,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(b,a){cK(this,a),this._latlng=dL(b)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(b){var a=this._latlng;return this._latlng=dL(b),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var b=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=b.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,b.title&&(d.title=b.title),"IMG"===d.tagName&&(d.alt=b.alt||"")),dk(d,a),b.keyboard&&(d.tabIndex="0"),this._icon=d,b.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var f=b.icon.createShadow(this._shadow),c=!1;f!==this._shadow&&(this._removeShadow(),c=!0),f&&(dk(f,a),f.alt=""),this._shadow=f,b.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&c&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),dw(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dw(this._shadow),this._shadow=null},_setPos:function(a){dS(this._icon,a),this._shadow&&dS(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(dk(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),c0)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new c0(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;dr(this._icon,a),this._shadow&&dr(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),aM=b6.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:0.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return cK(this,a),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),bc=aM.extend({options:{fill:!0,radius:10},initialize:function(b,a){cK(this,a),this._latlng=dL(b),this._radius=this.options.radius},setLatLng:function(a){return this._latlng=dL(a),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(b){var a=b&&b.radius||this._radius;return aM.prototype.setStyle.call(this,b),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var b=this._radius,a=this._radiusY||b,c=this._clickTolerance(),d=[b+c,a+c];this._pxBounds=new dm(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),bW=bc.extend({initialize:function(a,b,c){if("number"==typeof b&&(b=cO({},c,{radius:b})),cK(this,b),this._latlng=dL(a),isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new df(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:aM.prototype.setStyle,_project:function(){var w=this._latlng.lng,j=this._latlng.lat,m=this._map,f=m.options.crs;if(f.distance===ck.distance){var d=Math.PI/180,x=this._mRadius/ck.R/d,b=m.project([j+x,w]),q=m.project([j-x,w]),k=b.add(q).divideBy(2),v=m.unproject(k).lat,g=Math.acos((Math.cos(x*d)-Math.sin(j*d)*Math.sin(v*d))/(Math.cos(j*d)*Math.cos(v*d)))/d;(isNaN(g)||0===g)&&(g=x/Math.cos(Math.PI/180*j)),this._point=k.subtract(m.getPixelOrigin()),this._radius=isNaN(g)?0:k.x-m.project([v,w-g]).x,this._radiusY=k.y-b.y}else{var p=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(p).x}this._updateBounds()}}),dy=aM.extend({options:{smoothFactor:1,noClip:!1},initialize:function(b,a){cK(this,a),this._setLatLngs(b)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return !this._latlngs.length},closestLayerPoint:function(w){for(var j,m,f=1/0,d=null,x=aO,b=0,q=this._parts.length;b<q;b++){for(var k=this._parts[b],v=1,g=k.length;v<g;v++){var p=x(w,j=k[v-1],m=k[v],!0);p<f&&(f=p,d=x(w,j,m))}}return d&&(d.distance=Math.sqrt(f)),d},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var l,f,j,d,c,m,b,k=this._rings[0],g=k.length;if(!g){return null}for(l=0,f=0;l<g-1;l++){f+=k[l].distanceTo(k[l+1])/2}if(0===f){return this._map.layerPointToLatLng(k[0])}for(l=0,d=0;l<g-1;l++){if(c=k[l],m=k[l+1],j=c.distanceTo(m),(d+=j)>f){return b=(d-f)/j,this._map.layerPointToLatLng([m.x-b*(m.x-c.x),m.y-b*(m.y-c.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(b,a){return a=a||this._defaultShape(),b=dL(b),a.push(b),this._bounds.extend(b),this.redraw()},_setLatLngs:function(a){this._bounds=new df,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return aB(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(b){for(var a=[],c=aB(b),f=0,d=b.length;f<d;f++){c?(a[f]=dL(b[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(b[f])}return a},_project:function(){var b=new dm;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,b);var a=this._clickTolerance(),c=new cs(a,a);this._bounds.isValid()&&b.isValid()&&(b.min._subtract(c),b.max._add(c),this._pxBounds=b)},_projectLatlngs:function(b,a,f){var h,g,c=b[0] instanceof du,d=b.length;if(c){for(g=[],h=0;h<d;h++){g[h]=this._map.latLngToLayerPoint(b[h]),f.extend(g[h])}a.push(g)}else{for(h=0;h<d;h++){this._projectLatlngs(b[h],a,f)}}},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip){this._parts=this._rings}else{var f,j,d,c,m,b,k,g=this._parts;for(f=0,d=0,c=this._rings.length;f<c;f++){for(j=0,m=(k=this._rings[f]).length;j<m-1;j++){(b=dl(k[j],k[j+1],l,j,!0))&&(g[d]=g[d]||[],g[d].push(b[0]),b[1]===k[j+1]&&j!==m-2||(g[d].push(b[1]),d++))}}}}},_simplifyPoints:function(){for(var b=this._parts,a=this.options.smoothFactor,c=0,d=b.length;c<d;c++){b[c]=bw(b[c],a)}},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var j,d,c,m,b,k,g=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l)){return !1}for(j=0,m=this._parts.length;j<m;j++){for(d=0,c=(b=(k=this._parts[j]).length)-1;d<b;c=d++){if((f||0!==d)&&aA(l,k[c],k[d])<=g){return !0}}}return !1}});dy._flat=cj;var cP=dy.extend({options:{fill:!0},isEmpty:function(){return !this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var q,g,k,d,c,v,b,m,j,p=this._rings[0],f=p.length;if(!f){return null}for(v=b=m=0,q=0,g=f-1;q<f;g=q++){k=p[q],d=p[g],c=k.y*d.x-d.y*k.x,b+=(k.x+d.x)*c,m+=(k.y+d.y)*c,v+=3*c}return j=0===v?p[0]:[b/v,m/v],this._map.layerPointToLatLng(j)},_convertLatLngs:function(b){var a=dy.prototype._convertLatLngs.call(this,b),c=a.length;return c>=2&&a[0] instanceof du&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(a){dy.prototype._setLatLngs.call(this,a),aB(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return aB(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var b=this._renderer._bounds,a=this.options.weight,d=new cs(a,a);if(b=new dm(b.min.subtract(d),b.max.add(d)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(b)){if(this.options.noClip){this._parts=this._rings}else{for(var g,f=0,c=this._rings.length;f<c;f++){(g=dX(this._rings[f],b,!0)).length&&this._parts.push(g)}}}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var f,j,d,c,p,b,k,g,l=!1;if(!this._pxBounds||!this._pxBounds.contains(m)){return !1}for(c=0,k=this._parts.length;c<k;c++){for(p=0,b=(g=(f=this._parts[c]).length)-1;p<g;b=p++){j=f[p],d=f[b],j.y>m.y!=d.y>m.y&&m.x<(d.x-j.x)*(m.y-j.y)/(d.y-j.y)+j.x&&(l=!l)}}return l||dy.prototype._containsPoint.call(this,m,!0)}}),bu=cl.extend({initialize:function(b,a){cK(this,a),this._layers={},b&&this.addData(b)},addData:function(b){var a,f,h,g=cY(b)?b:b.features;if(g){for(a=0,f=g.length;a<f;a++){((h=g[a]).geometries||h.geometry||h.features||h.coordinates)&&this.addData(h)}return this}var c=this.options;if(c.filter&&!c.filter(b)){return this}var d=ah(b,c);return d?(d.feature=bP(b),d.defaultOptions=d.options,this.resetStyle(d),c.onEachFeature&&c.onEachFeature(b,d),this.addLayer(d)):this},resetStyle:function(a){return a.options=cO({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(b,a){"function"==typeof a&&(a=a(b.feature)),b.setStyle&&b.setStyle(a)}}),bN={toGeoJSON:function(a){return cb(this,{type:"Point",coordinates:bZ(this.getLatLng(),a)})}};dH.include(bN),bW.include(bN),bc.include(bN),dy.include({toGeoJSON:function(b){var a=!aB(this._latlngs),c=eg(this._latlngs,a?1:0,!1,b);return cb(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),cP.include({toGeoJSON:function(b){var a=!aB(this._latlngs),c=a&&!aB(this._latlngs[0]),d=eg(this._latlngs,c?2:a?1:0,!0,b);return a||(d=[d]),cb(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),ep.include({toMultiPoint:function(b){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(b).geometry.coordinates)}),cb(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(b){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===a){return this.toMultiPoint(b)}var c="GeometryCollection"===a,d=[];return this.eachLayer(function(e){if(e.toGeoJSON){var g=e.toGeoJSON(b);if(c){d.push(g.geometry)}else{var f=bP(g);"FeatureCollection"===f.type?d.push.apply(d,f.features):d.push(f)}}}),c?cb(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});var dV=b3,a5=b6.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(b,a,c){this._url=b,this._bounds=co(a),cK(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dk(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dw(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&c8(this._image),this},bringToBack:function(){return this._map&&dx(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=co(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b="IMG"===this._url.tagName,a=this._image=b?this._url:dC("img");dk(a,"leaflet-image-layer"),this._zoomAnimated&&dk(a,"leaflet-zoom-animated"),this.options.className&&dk(a,this.options.className),a.onselectstart=cB,a.onmousemove=cB,a.onload=cU(this.fire,this,"load"),a.onerror=cU(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),b?this._url=a.src:(a.src=this._url,a.alt=this.options.alt)},_animateZoom:function(b){var a=this._map.getZoomScale(b.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,b.zoom,b.center).min;bJ(this._image,c,a)},_reset:function(){var b=this._image,a=new dm(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();dS(b,a.min),b.style.width=c.x+"px",b.style.height=c.y+"px"},_updateOpacity:function(){dr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),aX=a5.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var d="VIDEO"===this._url.tagName,c=this._image=d?this._url:dC("video");if(dk(c,"leaflet-image-layer"),this._zoomAnimated&&dk(c,"leaflet-zoom-animated"),c.onselectstart=cB,c.onmousemove=cB,c.onloadeddata=cU(this.fire,this,"load"),d){for(var j=c.getElementsByTagName("source"),g=[],f=0;f<j.length;f++){g.push(j[f].src)}this._url=j.length>0?g:[c.src]}else{cY(this._url)||(this._url=[this._url]),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop;for(var b=0;b<this._url.length;b++){var e=dC("source");e.src=this._url[b],c.appendChild(e)}}}}),ej=b6.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(b,a){cK(this,b),this._source=a},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&dr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&dr(this._container,1),this.bringToFront()},onRemove:function(a){a._fadeAnimated?(dr(this._container,0),this._removeTimeout=setTimeout(cU(dw,void 0,this._container),200)):dw(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=dL(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return !!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&c8(this._container),this},bringToBack:function(){return this._map&&dx(this._container),this},_updateContent:function(){if(this._content){var b=this._contentNode,a="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof a){b.innerHTML=a}else{for(;b.hasChildNodes();){b.removeChild(b.firstChild)}b.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var b=this._map.latLngToLayerPoint(this._latlng),a=cu(this.options.offset),c=this._getAnchor();this._zoomAnimated?dS(this._container,b.add(c)):a=a.add(b).add(c);var f=this._containerBottom=-a.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}}),cz=ej.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a.openPopup(this),this},onAdd:function(a){ej.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof aM||this._source.on("preclick",d5))},onRemove:function(a){ej.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof aM||this._source.off("preclick",d5))},getEvents:function(){var a=ej.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var b="leaflet-popup",a=this._container=dC("div",b+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=dC("div",b+"-content-wrapper",a);if(this._contentNode=dC("div",b+"-content",c),aq(c),eo(this._contentNode),dZ(c,"contextmenu",d5),this._tipContainer=dC("div",b+"-tip-container",a),this._tip=dC("div",b+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=dC("a",b+"-close-button",a);d.href="#close",d.innerHTML="×",dZ(d,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var b=this._contentNode,a=b.style;a.width="",a.whiteSpace="nowrap";var c=b.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=b.offsetHeight,d=this.options.maxHeight;d&&f>d?(a.height=d+"px",dk(b,"leaflet-popup-scrolled")):a9(b,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center),c=this._getAnchor();dS(this._container,a.add(c))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var w=this._map,j=parseInt(cC(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+j,f=this._containerWidth,d=new cs(this._containerLeft,-m-this._containerBottom);d._add(a3(this._container));var x=w.layerPointToContainerPoint(d),b=cu(this.options.autoPanPadding),q=cu(this.options.autoPanPaddingTopLeft||b),k=cu(this.options.autoPanPaddingBottomRight||b),v=w.getSize(),g=0,p=0;x.x+f+k.x>v.x&&(g=x.x+f-v.x+k.x),x.x-g-q.x<0&&(g=x.x-q.x),x.y+m+k.y>v.y&&(p=x.y+m-v.y+k.y),x.y-p-q.y<0&&(p=x.y-q.y),(g||p)&&w.fire("autopanstart").panBy([g,p])}},_onCloseButtonClick:function(a){this._close(),bX(a)},_getAnchor:function(){return cu(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});dv.mergeOptions({closePopupOnClick:!0}),dv.include({openPopup:function(b,a,c){return b instanceof cz||(b=new cz(c).setContent(b)),a&&b.setLatLng(a),this.hasLayer(b)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=b,this.addLayer(b))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}}),b6.include({bindPopup:function(b,a){return b instanceof cz?(cK(b,a),this._popup=b,b._source=this):(this._popup&&!a||(this._popup=new cz(a,this)),this._popup.setContent(b)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(b,a){if(b instanceof b6||(a=b,b=this),b instanceof cl){for(var c in this._layers){b=this._layers[c];break}}return a||(a=b.getCenter?b.getCenter():b.getLatLng()),this._popup&&this._map&&(this._popup._source=b,this._popup.update(),this._map.openPopup(this._popup,a)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return !!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(b){var a=b.layer||b.target;this._popup&&this._map&&(bX(b),a instanceof aM?this.openPopup(b.layer||b.target,b.latlng):this._map.hasLayer(this._popup)&&this._popup._source===a?this.closePopup():this.openPopup(a,b.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var af=ej.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:0.9},onAdd:function(a){ej.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){ej.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=ej.prototype.getEvents.call(this);return b4&&!this.options.permanent&&(a.preclick=this._close),a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var a="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dC("div",a)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var f=this._map,j=this._container,d=f.latLngToContainerPoint(f.getCenter()),c=f.layerPointToContainerPoint(m),p=this.options.direction,b=j.offsetWidth,k=j.offsetHeight,g=cu(this.options.offset),l=this._getAnchor();"top"===p?m=m.add(cu(-b/2+g.x,-k+g.y+l.y,!0)):"bottom"===p?m=m.subtract(cu(b/2-g.x,-g.y,!0)):"center"===p?m=m.subtract(cu(b/2+g.x,k/2-l.y+g.y,!0)):"right"===p||"auto"===p&&c.x<d.x?(p="right",m=m.add(cu(g.x+l.x,l.y-k/2+g.y,!0))):(p="left",m=m.subtract(cu(b+l.x-g.x,k/2-l.y-g.y,!0))),a9(j,"leaflet-tooltip-right"),a9(j,"leaflet-tooltip-left"),a9(j,"leaflet-tooltip-top"),a9(j,"leaflet-tooltip-bottom"),dk(j,"leaflet-tooltip-"+p),dS(j,m)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&dr(this._container,a)},_animateZoom:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center);this._setPosition(a)},_getAnchor:function(){return cu(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});dv.include({openTooltip:function(b,a,c){return b instanceof af||(b=new af(c).setContent(b)),a&&b.setLatLng(a),this.hasLayer(b)?this:this.addLayer(b)},closeTooltip:function(a){return a&&this.removeLayer(a),this}}),b6.include({bindTooltip:function(b,a){return b instanceof af?(cK(b,a),this._tooltip=b,b._source=this):(this._tooltip&&!a||(this._tooltip=new af(a,this)),this._tooltip.setContent(b)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){if(b||!this._tooltipHandlersAdded){var a=b?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),b4&&(c.click=this._openTooltip)),this[a](c),this._tooltipHandlersAdded=!b}},openTooltip:function(b,a){if(b instanceof b6||(a=b,b=this),b instanceof cl){for(var c in this._layers){b=this._layers[c];break}}return a||(a=b.getCenter?b.getCenter():b.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=b,this._tooltip.update(),this._map.openTooltip(this._tooltip,a),this._tooltip.options.interactive&&this._tooltip._container&&(dk(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(a9(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(a){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_openTooltip:function(b){var a=b.layer||b.target;this._tooltip&&this._map&&this.openTooltip(a,this._tooltip.options.sticky?b.latlng:void 0)},_moveTooltip:function(b){var a,c,d=b.latlng;this._tooltip.options.sticky&&b.originalEvent&&(a=this._map.mouseEventToContainerPoint(b.originalEvent),c=this._map.containerPointToLayerPoint(a),d=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(d)}});var ca=bV.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(b){var a=b&&"DIV"===b.tagName?b:document.createElement("div"),c=this.options;if(a.innerHTML=!1!==c.html?c.html:"",c.bgPos){var d=cu(c.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});bV.Default=b9;var cg=b6.extend({options:{tileSize:256,opacity:1,updateWhenIdle:cp,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){cK(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),dw(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(c8(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dx(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=cF(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof cs?a:new cs(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(b){for(var a,d=this.getPane().children,g=-b(-1/0,1/0),f=0,c=d.length;f<c;f++){a=d[f].style.zIndex,d[f]!==this._container&&a&&(g=b(g,+a))}isFinite(g)&&(this.options.zIndex=g+b(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!b2){dr(this._container,this.options.opacity);var b=+new Date,a=!1,d=!1;for(var g in this._tiles){var f=this._tiles[g];if(f.current&&f.loaded){var c=Math.min(1,(b-f.loaded)/200);dr(f.el,c),c<1?a=!0:(f.active?d=!0:this._onOpaqueTile(f),f.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),a&&(cR(this._fadeFrame),this._fadeFrame=cS(this._updateOpacity,this))}},_onOpaqueTile:cB,_initContainer:function(){this._container||(this._container=dC("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var b=this._tileZoom,a=this.options.maxZoom;if(void 0!==b){for(var c in this._levels){this._levels[c].el.children.length||c===b?(this._levels[c].el.style.zIndex=a-Math.abs(b-c),this._onUpdateLevel(c)):(dw(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c])}var f=this._levels[b],d=this._map;return f||((f=this._levels[b]={}).el=dC("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=d.project(d.unproject(d.getPixelOrigin()),b).round(),f.zoom=b,this._setZoomTransform(f,d.getCenter(),d.getZoom()),f.el.offsetWidth,this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:cB,_onRemoveLevel:cB,_onCreateLevel:cB,_pruneTiles:function(){if(this._map){var b,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles()}else{for(b in this._tiles){(a=this._tiles[b]).retain=a.current}for(b in this._tiles){if((a=this._tiles[b]).current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}}for(b in this._tiles){this._tiles[b].retain||this._removeTile(b)}}}},_removeTilesAtZoom:function(b){for(var a in this._tiles){this._tiles[a].coords.z===b&&this._removeTile(a)}},_removeAllTiles:function(){for(var a in this._tiles){this._removeTile(a)}},_invalidateAll:function(){for(var a in this._levels){dw(this._levels[a].el),this._onRemoveLevel(a),delete this._levels[a]}this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,f,j,d){var c=Math.floor(m/2),p=Math.floor(f/2),b=j-1,k=new cs(+c,+p);k.z=+b;var g=this._tileCoordsToKey(k),l=this._tiles[g];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),b>d&&this._retainParent(c,p,b,d))},_retainChildren:function(l,f,j,d){for(var c=2*l;c<2*l+2;c++){for(var m=2*f;m<2*f+2;m++){var b=new cs(c,m);b.z=j+1;var k=this._tileCoordsToKey(b),g=this._tiles[k];g&&g.active?g.retain=!0:(g&&g.loaded&&(g.retain=!0),j+1<d&&this._retainChildren(c,m,j+1,d))}}},_resetView:function(b){var a=b&&(b.pinch||b.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(b){var a=this.options;return void 0!==a.minNativeZoom&&b<a.minNativeZoom?a.minNativeZoom:void 0!==a.maxNativeZoom&&a.maxNativeZoom<b?a.maxNativeZoom:b},_setView:function(b,a,d,g){var f=this._clampZoom(Math.round(a));(void 0!==this.options.maxZoom&&f>this.options.maxZoom||void 0!==this.options.minZoom&&f<this.options.minZoom)&&(f=void 0);var c=this.options.updateWhenZooming&&f!==this._tileZoom;g&&!c||(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==f&&this._update(b),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(b,a)},_setZoomTransforms:function(b,a){for(var c in this._levels){this._setZoomTransform(this._levels[c],b,a)}},_setZoomTransform:function(b,a,c){var f=this._map.getZoomScale(c,b.zoom),d=b.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();aF?bJ(b.el,d,f):dS(b.el,d)},_resetGrid:function(){var b=this._map,a=b.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(b.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(b.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(b){var a=this._map,d=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),g=a.getZoomScale(d,this._tileZoom),f=a.project(b,this._tileZoom).floor(),c=a.getSize().divideBy(2*g);return new dm(f.subtract(c),f.add(c))},_update:function(D){var v=this._map;if(v){var x=this._clampZoom(v.getZoom());if(void 0===D&&(D=v.getCenter()),void 0!==this._tileZoom){var j=this._getTiledPixelBounds(D),g=this._pxBoundsToTileRange(j),E=g.getCenter(),b=[],A=this.options.keepBuffer,w=new dm(g.getBottomLeft().subtract([A,-A]),g.getTopRight().add([A,-A]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var C in this._tiles){var q=this._tiles[C].coords;q.z===this._tileZoom&&w.contains(new cs(q.x,q.y))||(this._tiles[C].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(D,x)}else{for(var z=g.min.y;z<=g.max.y;z++){for(var B=g.min.x;B<=g.max.x;B++){var y=new cs(B,z);if(y.z=this._tileZoom,this._isValidTile(y)){var f=this._tiles[this._tileCoordsToKey(y)];f?f.current=!0:b.push(y)}}}if(b.sort(function(c,a){return c.distanceTo(E)-a.distanceTo(E)}),0!==b.length){this._loading||(this._loading=!0,this.fire("loading"));var k=document.createDocumentFragment();for(B=0;B<b.length;B++){this._addTile(b[B],k)}this._level.el.appendChild(k)}}}}},_isValidTile:function(b){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(b.x<c.min.x||b.x>c.max.x)||!a.wrapLat&&(b.y<c.min.y||b.y>c.max.y)){return !1}}if(!this.options.bounds){return !0}var d=this._tileCoordsToBounds(b);return co(this.options.bounds).overlaps(d)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(b){var a=this._map,c=this.getTileSize(),f=b.scaleBy(c),d=f.add(c);return[a.unproject(f,b.z),a.unproject(d,b.z)]},_tileCoordsToBounds:function(b){var a=this._tileCoordsToNwSe(b),c=new df(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(b){var a=b.split(":"),c=new cs(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(b){var a=this._tiles[b];a&&(dw(a.el),delete this._tiles[b],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(b)}))},_initTile:function(b){dk(b,"leaflet-tile");var a=this.getTileSize();b.style.width=a.x+"px",b.style.height=a.y+"px",b.onselectstart=cB,b.onmousemove=cB,b2&&this.options.opacity<1&&dr(b,this.options.opacity),dT&&!bO&&(b.style.WebkitBackfaceVisibility="hidden")},_addTile:function(b,a){var e=this._getTilePos(b),d=this._tileCoordsToKey(b),c=this.createTile(this._wrapCoords(b),cU(this._tileReady,this,b));this._initTile(c),this.createTile.length<2&&cS(cU(this._tileReady,this,b,null,c)),dS(c,e),this._tiles[d]={el:c,coords:b,current:!0},a.appendChild(c),this.fire("tileloadstart",{tile:c,coords:b})},_tileReady:function(b,a,d){a&&this.fire("tileerror",{error:a,tile:d,coords:b});var c=this._tileCoordsToKey(b);(d=this._tiles[c])&&(d.loaded=+new Date,this._map._fadeAnimated?(dr(d.el,0),cR(this._fadeFrame),this._fadeFrame=cS(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),a||(dk(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),b2||!this._map._fadeAnimated?cS(this._pruneTiles,this):setTimeout(cU(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(b){var a=new cs(this._wrapX?cA(b.x,this._wrapX):b.x,this._wrapY?cA(b.y,this._wrapY):b.y);return a.z=b.z,a},_pxBoundsToTileRange:function(b){var a=this.getTileSize();return new dm(b.min.unscaleBy(a).floor(),b.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles){if(!this._tiles[a].loaded){return !1}}return !0}}),d1=cg.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(b,a){this._url=b,(a=cK(this,a)).detectRetina&&bT&&a.maxZoom>0&&(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom++):(a.zoomOffset++,a.maxZoom--),a.minZoom=Math.max(0,a.minZoom)),"string"==typeof a.subdomains&&(a.subdomains=a.subdomains.split("")),dT||this.on("tileunload",this._onTileRemove)},setUrl:function(b,a){return this._url=b,a||this.redraw(),this},createTile:function(b,a){var c=document.createElement("img");return dZ(c,"load",cU(this._tileOnLoad,this,a,c)),dZ(c,"error",cU(this._tileOnError,this,a,c)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),c.alt="",c.setAttribute("role","presentation"),c.src=this.getTileUrl(b),c},getTileUrl:function(a){var b={r:bT?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-a.y;this.options.tms&&(b.y=c),b["-y"]=c}return c3(this._url,cO(b,this.options))},_tileOnLoad:function(b,a){b2?setTimeout(cU(b,this,null,a),0):b(null,a)},_tileOnError:function(b,a,c){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),b(c,a)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var b=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(b=a-b),b+d},_getSubdomain:function(b){var a=Math.abs(b.x+b.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var b,a;for(b in this._tiles){this._tiles[b].coords.z!==this._tileZoom&&((a=this._tiles[b].el).onload=cB,a.onerror=cB,a.complete||(a.src=bx,dw(a),delete this._tiles[b]))}},_removeTile:function(b){var a=this._tiles[b];if(a){return aa||a.el.setAttribute("src",bx),cg.prototype._removeTile.call(this,b)}},_tileReady:function(b,a,c){if(this._map&&(!c||c.getAttribute("src")!==bx)){return cg.prototype._tileReady.call(this,b,a,c)}}}),bF=d1.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var g=cO({},this.defaultWmsParams);for(var f in d){f in this.options||(g[f]=d[f])}var b=(d=cK(this,d)).detectRetina&&bT?2:1,c=this.getTileSize();g.width=c.x*b,g.height=c.y*b,this.wmsParams=g},onAdd:function(b){this._crs=this.options.crs||b.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,d1.prototype.onAdd.call(this,b)},getTileUrl:function(d){var c=this._tileCoordsToNwSe(d),h=this._crs,k=cZ(h.project(c[0]),h.project(c[1])),j=k.min,f=k.max,g=(this._wmsVersion>=1.3&&this._crs===dU?[j.y,j.x,f.y,f.x]:[j.x,j.y,f.x,f.y]).join(","),b=d1.prototype.getTileUrl.call(this,d);return b+cX(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(a,b){return cO(this.wmsParams,a),b||this.redraw(),this}});d1.WMS=bF,cE.wms=function(b,a){return new bF(b,a)};var bl=b6.extend({options:{padding:0.1,tolerance:0},initialize:function(a){cK(this,a),cG(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&dk(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,c){var h=this._map.getZoomScale(c,this._zoom),k=a3(this._container),j=this._map.getSize().multiplyBy(0.5+this.options.padding),f=this._map.project(this._center,c),g=this._map.project(d,c).subtract(f),b=j.multiplyBy(-h).add(k).add(j).subtract(g);aF?bJ(this._container,b,h):dS(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers){this._layers[a]._reset()}},_onZoomEnd:function(){for(var a in this._layers){this._layers[a]._project()}},_updatePaths:function(){for(var a in this._layers){this._layers[a]._update()}},_update:function(){var b=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-b)).round();this._bounds=new dm(c,c.add(a.multiplyBy(1+2*b)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),aJ=bl.extend({getEvents:function(){var a=bl.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){bl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");dZ(a,"mousemove",cF(this._onMouseMove,32,this),this),dZ(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),dZ(a,"mouseout",this._handleMouseOut,this),this._ctx=a.getContext("2d")},_destroyContainer:function(){cR(this._redrawRequest),delete this._ctx,dw(this._container),bD(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var a in this._layers){this._layers[a]._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},bl.prototype._update.call(this);var b=this._bounds,a=this._container,c=b.getSize(),d=bT?2:1;dS(a,b.min),a.width=d*c.x,a.height=d*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",bT&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update")}},_reset:function(){bl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(b){this._updateDashArray(b),this._layers[cG(b)]=b;var a=b._order={layer:b,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(b){var a=b._order,c=a.next,d=a.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete this._drawnLayers[b._leaflet_id],delete b._order,delete this._layers[cG(b)],this._requestRedraw(b)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(b){if("string"==typeof b.options.dashArray){var a,c=b.options.dashArray.split(/[, ]+/),d=[];for(a=0;a<c.length;a++){d.push(Number(c[a]))}b.options._dashArray=d}else{b.options._dashArray=b.options.dashArray}},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||cS(this._redraw,this))},_extendRedrawBounds:function(b){if(b._pxBounds){var a=(b.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new dm,this._redrawBounds.extend(b._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(b._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var b=this._redrawBounds;if(b){var a=b.getSize();this._ctx.clearRect(b.min.x,b.min.y,a.x,a.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var b,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next){b=d.layer,(!a||b._pxBounds&&b._pxBounds.intersects(a))&&b._updatePath()}this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var j,d,c,m,b=l._parts,k=b.length,g=this._ctx;if(k){for(this._drawnLayers[l._leaflet_id]=l,g.beginPath(),j=0;j<k;j++){for(d=0,c=b[j].length;d<c;d++){m=b[j][d],g[d?"lineTo":"moveTo"](m.x,m.y)}f&&g.closePath()}this._fillStroke(g,l)}}},_updateCircle:function(b){if(this._drawing&&!b._empty()){var a=b._point,c=this._ctx,f=Math.max(Math.round(b._radius),1),d=(Math.max(Math.round(b._radiusY),1)||f)/f;this._drawnLayers[b._leaflet_id]=b,1!==d&&(c.save(),c.scale(1,d)),c.beginPath(),c.arc(a.x,a.y/d,f,0,2*Math.PI,!1),1!==d&&c.restore(),this._fillStroke(c,b)}},_fillStroke:function(b,a){var c=a.options;c.fill&&(b.globalAlpha=c.fillOpacity,b.fillStyle=c.fillColor||c.color,b.fill(c.fillRule||"evenodd")),c.stroke&&0!==c.weight&&(b.setLineDash&&b.setLineDash(a.options&&a.options._dashArray||[]),b.globalAlpha=c.opacity,b.lineWidth=c.weight,b.strokeStyle=c.color,b.lineCap=c.lineCap,b.lineJoin=c.lineJoin,b.stroke())},_onClick:function(b){for(var a,c,f=this._map.mouseEventToLayerPoint(b),d=this._drawFirst;d;d=d.next){(a=d.layer).options.interactive&&a._containsPoint(f)&&!this._map._draggableMoved(a)&&(c=a)}c&&(dK(b),this._fireEvent([c],b))},_onMouseMove:function(b){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var a=this._map.mouseEventToLayerPoint(b);this._handleMouseHover(b,a)}},_handleMouseOut:function(b){var a=this._hoveredLayer;a&&(a9(this._container,"leaflet-interactive"),this._fireEvent([a],b,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(b,a){for(var c,f,d=this._drawFirst;d;d=d.next){(c=d.layer).options.interactive&&c._containsPoint(a)&&(f=c)}f!==this._hoveredLayer&&(this._handleMouseOut(b),f&&(dk(this._container,"leaflet-interactive"),this._fireEvent([f],b,"mouseover"),this._hoveredLayer=f)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],b)},_fireEvent:function(b,a,c){this._map._fireDOMEvent(a,c||a.type,b)},_bringToFront:function(b){var a=b._order,c=a.next,d=a.prev;c&&(c.prev=d,d?d.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(b))},_bringToBack:function(b){var a=b._order,c=a.next,d=a.prev;d&&(d.next=c,c?c.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(b))}}),ea=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(b){return document.createElement("<lvml:"+b+' class="lvml">')}}catch(a){return function(b){return document.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),es={_initContainer:function(){this._container=dC("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(bl.prototype._update.call(this),this.fire("update"))},_initPath:function(b){var a=b._container=ea("shape");dk(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",b._path=ea("path"),a.appendChild(b._path),this._updateStyle(b),this._layers[cG(b)]=b},_addPath:function(b){var a=b._container;this._container.appendChild(a),b.options.interactive&&b.addInteractiveTarget(a)},_removePath:function(b){var a=b._container;dw(a),b.removeInteractiveTarget(a),delete this._layers[cG(b)]},_updateStyle:function(b){var a=b._stroke,c=b._fill,f=b.options,d=b._container;d.stroked=!!f.stroke,d.filled=!!f.fill,f.stroke?(a||(a=b._stroke=ea("stroke")),d.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=cY(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(d.removeChild(a),b._stroke=null),f.fill?(c||(c=b._fill=ea("fill")),d.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(d.removeChild(c),b._fill=null)},_updateCircle:function(b){var a=b._point.round(),c=Math.round(b._radius),d=Math.round(b._radiusY||c);this._setPath(b,b._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+d+" 0,23592600")},_setPath:function(b,a){b._path.v=a},_bringToFront:function(a){c8(a._container)},_bringToBack:function(a){dx(a._container)}},av=dA?ea:dG,aV=bl.extend({getEvents:function(){var a=bl.prototype.getEvents.call(this);return a.zoomstart=this._onZoomStart,a},_initContainer:function(){this._container=av("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=av("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dw(this._container),bD(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){bl.prototype._update.call(this);var b=this._bounds,a=b.getSize(),c=this._container;this._svgSize&&this._svgSize.equals(a)||(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),dS(c,b.min),c.setAttribute("viewBox",[b.min.x,b.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(b){var a=b._path=av("path");b.options.className&&dk(a,b.options.className),b.options.interactive&&dk(a,"leaflet-interactive"),this._updateStyle(b),this._layers[cG(b)]=b},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){dw(a._path),a.removeInteractiveTarget(a._path),delete this._layers[cG(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(b){var a=b._path,c=b.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(b,a){this._setPath(b,cL(b._parts,a))},_updateCircle:function(b){var a=b._point,c=Math.max(Math.round(b._radius),1),f="a"+c+","+(Math.max(Math.round(b._radiusY),1)||c)+" 0 1,0 ",d=b._empty()?"M0 0":"M"+(a.x-c)+","+a.y+f+2*c+",0 "+f+2*-c+",0 ";this._setPath(b,d)},_setPath:function(b,a){b._path.setAttribute("d",a)},_bringToFront:function(a){c8(a._path)},_bringToBack:function(a){dx(a._path)}});dA&&aV.include(es),dv.include({getRenderer:function(b){var a=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(b){if("overlayPane"===b||void 0===b){return !1}var a=this._paneRenderers[b];return void 0===a&&(a=this._createRenderer({pane:b}),this._paneRenderers[b]=a),a},_createRenderer:function(a){return this.options.preferCanvas&&dh(a)||aE(a)}});var b0=cP.extend({initialize:function(b,a){cP.prototype.initialize.call(this,this._boundsToLatLngs(b),a)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=co(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});aV.create=av,aV.pointsToPath=cL,bu.geometryToLayer=ah,bu.coordsToLatLng=dF,bu.coordsToLatLngs=cV,bu.latLngToCoords=bZ,bu.latLngsToCoords=eg,bu.getFeature=cb,bu.asFeature=bP,dv.mergeOptions({boxZoom:!0});var dd=aH.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){dZ(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bD(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dw(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button){return !1}this._clearDeferredResetState(),this._resetState(),bI(),aT(),this._startPoint=this._map.mouseEventToContainerPoint(a),dZ(document,{contextmenu:bX,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(b){this._moved||(this._moved=!0,this._box=dC("div","leaflet-zoom-box",this._container),dk(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(b);var a=new dm(this._point,this._startPoint),c=a.getSize();dS(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(dw(this._box),a9(this._container,"leaflet-crosshair")),bp(),eh(),bD(document,{contextmenu:bX,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){if((1===b.which||1===b.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(cU(this._resetState,this),0);var a=new df(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});dv.addInitHook("addHandler","boxZoom",dd),dv.mergeOptions({doubleClickZoom:!0});var d8=aH.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,d=b.originalEvent.shiftKey?c-f:c+f;"center"===a.options.doubleClickZoom?a.setZoom(d):a.setZoomAround(b.containerPoint,d)}});dv.addInitHook("addHandler","doubleClickZoom",d8),dv.mergeOptions({dragging:!0,inertia:!bO,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:0.2,worldCopyJump:!1,maxBoundsViscosity:0});var dQ=aH.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ay(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}dk(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){a9(this._map._container,"leaflet-grab"),a9(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var b=this._map;if(b._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=co(this._map.options.maxBounds);this._offsetLimit=cZ(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}b.fire("movestart").fire("dragstart"),b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(b){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",b).fire("drag",b)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;){this._positions.shift(),this._times.shift()}},_onZoomEnd:function(){var b=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(b).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(b,a){return b-(b-a)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var b=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;b.x<a.min.x&&(b.x=this._viscousLimit(b.x,a.min.x)),b.y<a.min.y&&(b.y=this._viscousLimit(b.y,a.min.y)),b.x>a.max.x&&(b.x=this._viscousLimit(b.x,a.max.x)),b.y>a.max.y&&(b.y=this._viscousLimit(b.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(b)}},_onPreDragWrap:function(){var b=this._worldWidth,a=Math.round(b/2),f=this._initialWorldOffset,h=this._draggable._newPos.x,g=(h-a+f)%b+a-f,c=(h+a+f)%b-a-f,d=Math.abs(g+f)<Math.abs(c+f)?g:c;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=d},_onDragEnd:function(x){var j=this._map,m=j.options,f=!m.inertia||this._times.length<2;if(j.fire("dragend",x),f){j.fire("moveend")}else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1000,b=m.easeLinearity,q=d.multiplyBy(b/y),k=q.distanceTo([0,0]),w=Math.min(m.inertiaMaxSpeed,k),g=q.multiplyBy(w/k),p=w/(m.inertiaDeceleration*b),v=g.multiplyBy(-p/2).round();v.x||v.y?(v=j._limitOffset(v,j.options.maxBounds),cS(function(){j.panBy(v,{duration:p,easeLinearity:b,noMoveStart:!0,animate:!0})})):j.fire("moveend")}}});dv.addInitHook("addHandler","dragging",dQ),dv.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bL=aH.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),dZ(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bD(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var b=document.body,a=document.documentElement,c=b.scrollTop||a.scrollTop,d=b.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(b){var a,c,f=this._panKeys={},d=this.keyCodes;for(a=0,c=d.left.length;a<c;a++){f[d.left[a]]=[-1*b,0]}for(a=0,c=d.right.length;a<c;a++){f[d.right[a]]=[b,0]}for(a=0,c=d.down.length;a<c;a++){f[d.down[a]]=[0,b]}for(a=0,c=d.up.length;a<c;a++){f[d.up[a]]=[0,-1*b]}},_setZoomDelta:function(b){var a,c,f=this._zoomKeys={},d=this.keyCodes;for(a=0,c=d.zoomIn.length;a<c;a++){f[d.zoomIn[a]]=b}for(a=0,c=d.zoomOut.length;a<c;a++){f[d.zoomOut[a]]=-b}},_addHooks:function(){dZ(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bD(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){if(!(b.altKey||b.ctrlKey||b.metaKey)){var a,c=b.keyCode,d=this._map;if(c in this._panKeys){d._panAnim&&d._panAnim._inProgress||(a=this._panKeys[c],b.shiftKey&&(a=cu(a).multiplyBy(3)),d.panBy(a),d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds))}else{if(c in this._zoomKeys){d.setZoom(d.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[c])}else{if(27!==c||!d._popup||!d._popup.options.closeOnEscapeKey){return}d.closePopup()}}bX(b)}}});dv.addInitHook("addHandler","keyboard",bL),dv.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var a4=aH.extend({addHooks:function(){dZ(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bD(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(b){var a=d3(b),d=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(b),this._startTime||(this._startTime=+new Date);var c=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(cU(this._performZoom,this),c),bX(b)},_performZoom:function(){var b=this._map,a=b.getZoom(),f=this._map.options.zoomSnap||0;b._stop();var h=this._delta/(4*this._map.options.wheelPxPerZoomLevel),g=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,c=f?Math.ceil(g/f)*f:g,d=b._limitZoom(a+(this._delta>0?c:-c))-a;this._delta=0,this._startTime=null,d&&("center"===b.options.scrollWheelZoom?b.setZoom(a+d):b.setZoomAround(this._lastMousePos,a+d))}});dv.addInitHook("addHandler","scrollWheelZoom",a4),dv.mergeOptions({tap:!0,tapTolerance:15});var eq=aH.extend({addHooks:function(){dZ(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bD(this._map._container,"touchstart",this._onDown,this)},_onDown:function(b){if(b.touches){if(aR(b),this._fireClick=!0,b.touches.length>1){return this._fireClick=!1,void clearTimeout(this._holdTimeout)}var a=b.touches[0],c=a.target;this._startPos=this._newPos=new cs(a.clientX,a.clientY),c.tagName&&"a"===c.tagName.toLowerCase()&&dk(c,"leaflet-active"),this._holdTimeout=setTimeout(cU(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1000),this._simulateEvent("mousedown",a),dZ(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(b){if(clearTimeout(this._holdTimeout),bD(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&b&&b.changedTouches){var a=b.changedTouches[0],c=a.target;c&&c.tagName&&"a"===c.tagName.toLowerCase()&&a9(c,"leaflet-active"),this._simulateEvent("mouseup",a),this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(b){var a=b.touches[0];this._newPos=new cs(a.clientX,a.clientY),this._simulateEvent("mousemove",a)},_simulateEvent:function(b,a){var c=document.createEvent("MouseEvents");c._simulated=!0,a.target._simulatedClick=!0,c.initMouseEvent(b,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(c)}});b4&&!c4&&dv.addInitHook("addHandler","tap",eq),dv.mergeOptions({touchZoom:b4&&!bO,bounceAtZoomLimits:!0});var bz=aH.extend({addHooks:function(){dk(this._map._container,"leaflet-touch-zoom"),dZ(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){a9(this._map._container,"leaflet-touch-zoom"),bD(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var a=this._map;if(b.touches&&2===b.touches.length&&!a._animatingZoom&&!this._zooming){var c=a.mouseEventToContainerPoint(b.touches[0]),d=a.mouseEventToContainerPoint(b.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),"center"!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),dZ(document,"touchmove",this._onTouchMove,this),dZ(document,"touchend",this._onTouchEnd,this),aR(b)}},_onTouchMove:function(d){if(d.touches&&2===d.touches.length&&this._zooming){var c=this._map,h=c.mouseEventToContainerPoint(d.touches[0]),g=c.mouseEventToContainerPoint(d.touches[1]),e=h.distanceTo(g)/this._startDist;if(this._zoom=c.getScaleZoom(e,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&e<1||this._zoom>c.getMaxZoom()&&e>1)&&(this._zoom=c._limitZoom(this._zoom)),"center"===c.options.touchZoom){if(this._center=this._startLatLng,1===e){return}}else{var f=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(1===e&&0===f.x&&0===f.y){return}this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),cR(this._animRequest);var b=cU(c._move,c,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=cS(b,this,!0),aR(d)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,cR(this._animRequest),bD(document,"touchmove",this._onTouchMove),bD(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});dv.addInitHook("addHandler","touchZoom",bz),dv.BoxZoom=dd,dv.DoubleClickZoom=d8,dv.Drag=dQ,dv.Keyboard=bL,dv.ScrollWheelZoom=a4,dv.Tap=eq,dv.TouchZoom=bz,Object.freeze=bf,cy.version="1.3.4+HEAD.0e566b2",cy.Control=ed,cy.control=dW,cy.Browser=aK,cy.Evented=cH,cy.Mixin=bK,cy.Util=aZ,cy.Class=cv,cy.Handler=aH,cy.extend=cO,cy.bind=cU,cy.stamp=cG,cy.setOptions=cK,cy.DomEvent=a0,cy.DomUtil=aN,cy.PosAnimation=b5,cy.Draggable=ay,cy.LineUtil=by,cy.PolyUtil=aU,cy.Point=cs,cy.point=cu,cy.Bounds=dm,cy.bounds=cZ,cy.Transformation=dg,cy.transformation=c5,cy.Projection=d7,cy.LatLng=du,cy.latLng=dL,cy.LatLngBounds=df,cy.latLngBounds=co,cy.CRS=cc,cy.GeoJSON=bu,cy.geoJSON=b3,cy.geoJson=dV,cy.Layer=b6,cy.LayerGroup=ep,cy.layerGroup=function(b,a){return new ep(b,a)},cy.FeatureGroup=cl,cy.featureGroup=function(a){return new cl(a)},cy.ImageOverlay=a5,cy.imageOverlay=function(b,a,c){return new a5(b,a,c)},cy.VideoOverlay=aX,cy.videoOverlay=function(b,a,c){return new aX(b,a,c)},cy.DivOverlay=ej,cy.Popup=cz,cy.popup=function(b,a){return new cz(b,a)},cy.Tooltip=af,cy.tooltip=function(b,a){return new af(b,a)},cy.Icon=bV,cy.icon=function(a){return new bV(a)},cy.DivIcon=ca,cy.divIcon=function(a){return new ca(a)},cy.Marker=dH,cy.marker=function(b,a){return new dH(b,a)},cy.TileLayer=d1,cy.tileLayer=cE,cy.GridLayer=cg,cy.gridLayer=function(a){return new cg(a)},cy.SVG=aV,cy.svg=aE,cy.Renderer=bl,cy.Canvas=aJ,cy.canvas=dh,cy.Path=aM,cy.CircleMarker=bc,cy.circleMarker=function(b,a){return new bc(b,a)},cy.Circle=bW,cy.circle=function(b,a,c){return new bW(b,a,c)},cy.Polyline=dy,cy.polyline=function(b,a){return new dy(b,a)},cy.Polygon=cP,cy.polygon=function(b,a){return new cP(b,a)},cy.Rectangle=b0,cy.rectangle=function(b,a){return new b0(b,a)},cy.Map=dv,cy.map=function(b,a){return new dv(b,a)};var aC=window.L;cy.noConflict=function(){return window.L=aC,this},window.L=cy});